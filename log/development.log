Started GET "/" for 127.0.0.1 at 2020-08-28 07:24:14 -0400
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.6ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 8222)
  Rendered layouts/_header.html.erb (Duration: 1.6ms | Allocations: 1525)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 67.2ms | Allocations: 31811)
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 527)
Completed 200 OK in 156ms (Views: 107.6ms | ActiveRecord: 14.1ms | Allocations: 83146)


Started GET "/" for 127.0.0.1 at 2020-08-28 08:00:38 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.5ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 8222)
  Rendered layouts/_header.html.erb (Duration: 1.8ms | Allocations: 1525)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 66.5ms | Allocations: 31813)
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 527)
Completed 200 OK in 155ms (Views: 105.6ms | ActiveRecord: 14.4ms | Allocations: 83134)


Started GET "/" for 127.0.0.1 at 2020-08-28 08:10:24 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.5ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 8222)
  Rendered layouts/_header.html.erb (Duration: 2.2ms | Allocations: 1525)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 67.8ms | Allocations: 31813)
  Rendered layouts/_footer.html.erb (Duration: 1.1ms | Allocations: 527)
Completed 200 OK in 157ms (Views: 107.4ms | ActiveRecord: 15.2ms | Allocations: 83134)


Started GET "/leadership/index" for 127.0.0.1 at 2020-08-28 08:11:05 -0400
Processing by LeadershipController#index as HTML
  Rendering leadership/index.html.erb within layouts/application
  Rendered leadership/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1354)
  Rendered layouts/_header.html.erb (Duration: 2.1ms | Allocations: 1273)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 9.8ms | Allocations: 4770)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 346)
Completed 200 OK in 30ms (Views: 26.7ms | ActiveRecord: 1.1ms | Allocations: 15912)


Started GET "/sermons" for 127.0.0.1 at 2020-08-28 08:11:10 -0400
Processing by SermonsController#index as HTML
  Rendering sermons/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:3
  [1m[36mRole Load (45.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:3
  [1m[36mSermon Load (161.4ms)[0m  [1m[34mSELECT "sermons".* FROM "sermons" ORDER BY delivered_on DESC[0m
  â†³ app/views/sermons/index.html.erb:9
  [1m[36mHomilist Load (29.1ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.4ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.3ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.3ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.2ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.3ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.4ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.3ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.1ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.2ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.2ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mHomilist Load (0.2ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  [1m[36mCACHE Homilist Load (0.0ms)[0m  [1m[34mSELECT "homilists".* FROM "homilists" WHERE "homilists"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/sermons/index.html.erb:12
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "users_roles" ON "roles"."id" = "users_roles"."role_id" WHERE "users_roles"."user_id" = $1 AND (((roles.name = 'admin') AND (roles.resource_type IS NULL) AND (roles.resource_id IS NULL)))[0m  [["user_id", 16]]
  â†³ app/views/sermons/index.html.erb:13
  Rendered sermons/index.html.erb within layouts/application (Duration: 1143.5ms | Allocations: 643369)
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1264)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 3.6ms | Allocations: 2599)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 358)
Completed 200 OK in 1160ms (Views: 893.5ms | ActiveRecord: 262.9ms | Allocations: 656793)


Started GET "/" for 127.0.0.1 at 2020-08-28 08:24:28 -0400
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.4ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.4ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (1.5ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3127)
  Rendered layouts/_header.html.erb (Duration: 2.2ms | Allocations: 1264)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 10.7ms | Allocations: 4839)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 352)
Completed 200 OK in 53ms (Views: 29.7ms | ActiveRecord: 5.2ms | Allocations: 28466)


Started GET "/donations/new" for 127.0.0.1 at 2020-08-28 09:31:56 -0400
  [1m[35m (51.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DonationsController#new as HTML
  Rendering donations/new.html.erb within layouts/application
  [1m[36mUser Load (74.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/donations/new.html.erb:4
  Rendered donations/_form.html.erb (Duration: 502.9ms | Allocations: 10646)
  Rendered donations/new.html.erb within layouts/application (Duration: 695.9ms | Allocations: 28087)
  Rendered layouts/_header.html.erb (Duration: 15.1ms | Allocations: 1532)
  [1m[36mProfile Load (85.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 226.5ms | Allocations: 16085)
  Rendered layouts/_footer.html.erb (Duration: 78.8ms | Allocations: 531)
Completed 200 OK in 3274ms (Views: 2400.9ms | ActiveRecord: 696.5ms | Allocations: 75883)


DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
Started GET "/" for 127.0.0.1 at 2020-08-28 09:49:00 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (19.6ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.4ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (23.7ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 8223)
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1525)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 50.4ms | Allocations: 31793)
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 524)
Completed 200 OK in 312ms (Views: 96.3ms | ActiveRecord: 139.3ms | Allocations: 83110)


Started GET "/" for 127.0.0.1 at 2020-08-28 09:50:11 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.5ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 8223)
  Rendered layouts/_header.html.erb (Duration: 1.5ms | Allocations: 1525)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 51.4ms | Allocations: 31793)
  Rendered layouts/_footer.html.erb (Duration: 1.6ms | Allocations: 524)
Completed 200 OK in 140ms (Views: 89.2ms | ActiveRecord: 13.8ms | Allocations: 83110)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."stripe_id" = $1 LIMIT $2[0m  [["stripe_id", "cus_HUaQrKIwB1PX94"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."last_name" = $1 LIMIT $2[0m  [["last_name", "Nye"], ["LIMIT", 1]]
  [1m[35m (29.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (16.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 319], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 318], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Started DELETE "/logout" for 127.0.0.1 at 2020-08-28 10:00:18 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eSzrINwYmWhO1cXY4iOECczuPPXw8BWdJNoA1kQqhYXhtKmYqQQJmC9GNaU/8kRfqd6Jg20D4AEfny+g8gg/yA=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
Redirected to http://localhost:5000/
Completed 302 Found in 38ms (ActiveRecord: 1.3ms | Allocations: 9080)


Started GET "/" for 127.0.0.1 at 2020-08-28 10:00:18 -0400
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.5ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3121)
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1264)
  Rendered layouts/_navbar.html.erb (Duration: 2.0ms | Allocations: 631)
  Rendered layouts/_footer.html.erb (Duration: 0.5ms | Allocations: 344)
Completed 200 OK in 29ms (Views: 14.0ms | ActiveRecord: 1.9ms | Allocations: 23801)


Started GET "/sign_in" for 127.0.0.1 at 2020-08-28 10:00:21 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 14.8ms | Allocations: 599)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 174.3ms | Allocations: 10376)
  Rendered layouts/_header.html.erb (Duration: 4.8ms | Allocations: 1266)
  Rendered layouts/_navbar.html.erb (Duration: 1.9ms | Allocations: 597)
  Rendered layouts/_footer.html.erb (Duration: 1.3ms | Allocations: 341)
Completed 200 OK in 220ms (Views: 215.0ms | ActiveRecord: 0.0ms | Allocations: 21979)


Started POST "/sign_in" for 127.0.0.1 at 2020-08-28 10:00:34 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"XjA0Y2Wpdq5Po4pp8OsO9Cd3WPGz84CfYLybWqypxC6sBviYw7Lg1oBkEkZzlHUS6Drce/IprHj3PSjh6piJLQ==", "user"=>{"login"=>"sha craft", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (lower(username) = 'sha craft' OR lower(email) = 'sha craft') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:122:in `find_for_database_authentication'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (34.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2020-08-28 14:00:34.611755"], ["last_sign_in_at", "2020-06-27 12:20:35.757474"], ["sign_in_count", 3], ["updated_at", "2020-08-28 14:00:34.612077"], ["id", 318]]
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:5000/
Completed 302 Found in 255ms (ActiveRecord: 57.5ms | Allocations: 14259)


Started GET "/" for 127.0.0.1 at 2020-08-28 10:00:34 -0400
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.3ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.2ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (0.3ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3127)
  Rendered layouts/_header.html.erb (Duration: 1.4ms | Allocations: 1264)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 5.7ms | Allocations: 4765)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 343)
Completed 200 OK in 35ms (Views: 16.6ms | ActiveRecord: 2.4ms | Allocations: 27903)


Started GET "/donations/new" for 127.0.0.1 at 2020-08-28 10:00:38 -0400
Processing by DonationsController#new as HTML
  Rendering donations/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/donations/new.html.erb:4
  Rendered donations/_form.html.erb (Duration: 1.9ms | Allocations: 1073)
  Rendered donations/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3935)
  Rendered layouts/_header.html.erb (Duration: 1.4ms | Allocations: 1263)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 4.3ms | Allocations: 2594)
  Rendered layouts/_footer.html.erb (Duration: 0.7ms | Allocations: 346)
Completed 200 OK in 41ms (Views: 20.1ms | ActiveRecord: 6.9ms | Allocations: 22685)


Started POST "/donations" for 127.0.0.1 at 2020-08-28 10:00:50 -0400
Processing by DonationsController#create as JS
  Parameters: {"authenticity_token"=>"JOwcNAlxjGOK/iBmJ/dMAnUJkV1l426vxeObLoGUvkF++FsugimPiGpHww6uG4sPlK8sN6GqUYkzV45oz3s8sA==", "donation"=>{"dollars"=>"53"}, "commit"=>"Set up donation"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[36mDonation Create (72.2ms)[0m  [1m[32mINSERT INTO "donations" ("user_id", "created_at", "updated_at", "amount", "dollars") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 318], ["created_at", "2020-08-28 14:00:50.541639"], ["updated_at", "2020-08-28 14:00:50.541639"], ["amount", 5300], ["dollars", 53]]
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/donations_controller.rb:27:in `create'
Redirected to http://localhost:5000/donations/256
Completed 200 OK in 121ms (ActiveRecord: 94.3ms | Allocations: 13858)


Started GET "/donations/256" for 127.0.0.1 at 2020-08-28 10:00:50 -0400
Processing by DonationsController#show as HTML
  Parameters: {"id"=>"256"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[36mDonation Load (0.7ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  â†³ app/controllers/donations_controller.rb:59:in `set_donation'
  Rendering donations/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/donations/show.html.erb:1
  Rendered donations/show.html.erb within layouts/application (Duration: 87.4ms | Allocations: 3537)
  Rendered layouts/_header.html.erb (Duration: 4.1ms | Allocations: 1264)
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 7.9ms | Allocations: 2592)
  Rendered layouts/_footer.html.erb (Duration: 1.0ms | Allocations: 349)
Completed 200 OK in 131ms (Views: 118.6ms | ActiveRecord: 2.8ms | Allocations: 19258)


Started POST "/checkout/create" for 127.0.0.1 at 2020-08-28 10:00:56 -0400
Processing by CheckoutController#create as JS
  Parameters: {"authenticity_token"=>"LNvUt1BZTHyj4D/UQbOvpitT47oATUu5NMO2bATq30ZUe4EBnctPnO2F9XMB0FWjplVuQcr14uDGgcAuN4S7ZA==", "id"=>"256"}
  [1m[36mDonation Load (0.5ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  â†³ app/controllers/checkout_controller.rb:5:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/controllers/checkout_controller.rb:12:in `create'
  Rendering checkout/create.js.erb
  Rendered checkout/create.js.erb (Duration: 30.0ms | Allocations: 182)
Completed 200 OK in 939ms (Views: 39.8ms | ActiveRecord: 0.8ms | Allocations: 11491)


Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 10:00:57 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HL88THiibShxDkj3wkIhsUf", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598623257, "data"=>{"object"=>{"id"=>"pi_1HL88THiibShxDkjwQc9akGp", "object"=>"payment_intent", "amount"=>5300, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp"}, "client_secret"=>"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN", "confirmation_method"=>"automatic", "created"=>1598623257, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_tk9xmungO4PZDQ", "idempotency_key"=>nil}, "type"=>"payment_intent.created", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HL88THiibShxDkj3wkIhsUf", "data"=>{"object"=>{"id"=>"pi_1HL88THiibShxDkjwQc9akGp", "object"=>"payment_intent", "amount"=>5300, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp"}, "client_secret"=>"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN", "confirmation_method"=>"automatic", "created"=>1598623257, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Load (45.2ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HL88THiibShxDkj3wkIhsUf"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (58.0ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HL88THiibShxDkj3wkIhsUf"], ["data", "{\"id\":\"evt_1HL88THiibShxDkj3wkIhsUf\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598623257,\"data\":{\"object\":{\"id\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"object\":\"payment_intent\",\"amount\":5300,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp\"},\"client_secret\":\"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN\",\"confirmation_method\":\"automatic\",\"created\":1598623257,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_tk9xmungO4PZDQ\",\"idempotency_key\":null},\"type\":\"payment_intent.created\",\"webhook_event\":{\"id\":\"evt_1HL88THiibShxDkj3wkIhsUf\",\"data\":{\"object\":{\"id\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"object\":\"payment_intent\",\"amount\":5300,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp\"},\"client_secret\":\"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN\",\"confirmation_method\":\"automatic\",\"created\":1598623257,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-28 14:00:57.679358"], ["updated_at", "2020-08-28 14:00:57.679358"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 3267de2d-4df2-4fe6-aab2-377655162504) to Async(default) with arguments: 285
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504] Performing ProcessEventsJob (Job ID: 3267de2d-4df2-4fe6-aab2-377655162504) from Async(default) enqueued at 2020-08-28T14:00:57Z with arguments: 285
Completed 200 OK in 210ms (Views: 3.9ms | ActiveRecord: 134.5ms | Allocations: 26167)


[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[36mWebhookEvent Load (0.7ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[36mWebhookEvent Update (0.6ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 14:00:57.861155"], ["id", 285]]
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[36mWebhookEvent Update (0.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 14:00:57.878364"], ["id", 285]]
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [3267de2d-4df2-4fe6-aab2-377655162504] Performed ProcessEventsJob (Job ID: 3267de2d-4df2-4fe6-aab2-377655162504) from Async(default) in 97.53ms
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 10:01:39 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HL898HiibShxDkjw6cTmtq1", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598623297, "data"=>{"object"=>{"id"=>"pm_1HL896HiibShxDkjjOFLkXnt", "object"=>"payment_method", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"34555", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Craft", "phone"=>nil}, "card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "generated_from"=>nil, "last4"=>"4242", "networks"=>{"available"=>["visa"], "preferred"=>nil}, "three_d_secure_usage"=>{"supported"=>true}, "wallet"=>nil}, "created"=>1598623296, "customer"=>"cus_HXiST3X80AjQq4", "livemode"=>false, "metadata"=>{}, "type"=>"card"}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_yoRJXEGhBJQly2", "idempotency_key"=>nil}, "type"=>"payment_method.attached", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HL898HiibShxDkjw6cTmtq1", "data"=>{"object"=>{"id"=>"pm_1HL896HiibShxDkjjOFLkXnt", "object"=>"payment_method", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"34555", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Craft", "phone"=>nil}, "card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "generated_from"=>nil, "last4"=>"4242", "networks"=>{"available"=>["visa"], "preferred"=>nil}, "three_d_secure_usage"=>{"supported"=>true}, "wallet"=>nil}, "created"=>1598623296, "customer"=>"cus_HXiST3X80AjQq4", "livemode"=>false, "metadata"=>{}, "type"=>"card"}}}}
  [1m[36mWebhookEvent Load (0.6ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HL898HiibShxDkjw6cTmtq1"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (12.1ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HL898HiibShxDkjw6cTmtq1"], ["data", "{\"id\":\"evt_1HL898HiibShxDkjw6cTmtq1\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598623297,\"data\":{\"object\":{\"id\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"object\":\"payment_method\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"34555\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Craft\",\"phone\":null},\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"generated_from\":null,\"last4\":\"4242\",\"networks\":{\"available\":[\"visa\"],\"preferred\":null},\"three_d_secure_usage\":{\"supported\":true},\"wallet\":null},\"created\":1598623296,\"customer\":\"cus_HXiST3X80AjQq4\",\"livemode\":false,\"metadata\":{},\"type\":\"card\"}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_yoRJXEGhBJQly2\",\"idempotency_key\":null},\"type\":\"payment_method.attached\",\"webhook_event\":{\"id\":\"evt_1HL898HiibShxDkjw6cTmtq1\",\"data\":{\"object\":{\"id\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"object\":\"payment_method\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"34555\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Craft\",\"phone\":null},\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"generated_from\":null,\"last4\":\"4242\",\"networks\":{\"available\":[\"visa\"],\"preferred\":null},\"three_d_secure_usage\":{\"supported\":true},\"wallet\":null},\"created\":1598623296,\"customer\":\"cus_HXiST3X80AjQq4\",\"livemode\":false,\"metadata\":{},\"type\":\"card\"}}}}"], ["created_at", "2020-08-28 14:01:39.095258"], ["updated_at", "2020-08-28 14:01:39.095258"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: f9fc7b97-a02d-4e33-adfa-82fca663c9fb) to Async(default) with arguments: 286
Completed 200 OK in 54ms (Views: 0.6ms | ActiveRecord: 24.8ms | Allocations: 20944)


[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb] Performing ProcessEventsJob (Job ID: f9fc7b97-a02d-4e33-adfa-82fca663c9fb) from Async(default) enqueued at 2020-08-28T14:01:39Z with arguments: 286
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[36mWebhookEvent Load (0.5ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[36mWebhookEvent Update (0.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 14:01:39.155493"], ["id", 286]]
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[36mWebhookEvent Update (0.3ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 14:01:39.169187"], ["id", 286]]
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 10:01:39 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HL898HiibShxDkjS3WKNA9n", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598623298, "data"=>{"object"=>{"id"=>"pi_1HL88THiibShxDkjwQc9akGp", "object"=>"payment_intent", "amount"=>5300, "amount_capturable"=>0, "amount_received"=>5300, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HL897HiibShxDkj53rCg3YM", "object"=>"charge", "amount"=>5300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HL898HiibShxDkjC0NnmC5h", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"34555", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Craft", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598623297, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>28, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HL88THiibShxDkjwQc9akGp", "payment_method"=>"pm_1HL896HiibShxDkjjOFLkXnt", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HL897HiibShxDkj53rCg3YM/rcpt_Huy5xu57gK26fcUYfBPq7P008eNLlnQ", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HL897HiibShxDkj53rCg3YM/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp"}, "client_secret"=>"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN", "confirmation_method"=>"automatic", "created"=>1598623257, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1HL896HiibShxDkjjOFLkXnt", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>"cha@cha.com", "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_yoRJXEGhBJQly2", "idempotency_key"=>nil}, "type"=>"payment_intent.succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HL898HiibShxDkjS3WKNA9n", "data"=>{"object"=>{"id"=>"pi_1HL88THiibShxDkjwQc9akGp", "object"=>"payment_intent", "amount"=>5300, "amount_capturable"=>0, "amount_received"=>5300, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HL897HiibShxDkj53rCg3YM", "object"=>"charge", "amount"=>5300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HL898HiibShxDkjC0NnmC5h", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"34555", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Craft", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598623297, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>28, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HL88THiibShxDkjwQc9akGp", "payment_method"=>"pm_1HL896HiibShxDkjjOFLkXnt", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HL897HiibShxDkj53rCg3YM/rcpt_Huy5xu57gK26fcUYfBPq7P008eNLlnQ", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HL897HiibShxDkj53rCg3YM/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp"}, "client_secret"=>"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN", "confirmation_method"=>"automatic", "created"=>1598623257, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1HL896HiibShxDkjjOFLkXnt", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>"cha@cha.com", "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}}}
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [f9fc7b97-a02d-4e33-adfa-82fca663c9fb] Performed ProcessEventsJob (Job ID: f9fc7b97-a02d-4e33-adfa-82fca663c9fb) from Async(default) in 30.97ms
  [1m[36mWebhookEvent Load (0.8ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HL898HiibShxDkjS3WKNA9n"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HL898HiibShxDkjS3WKNA9n"], ["data", "{\"id\":\"evt_1HL898HiibShxDkjS3WKNA9n\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598623298,\"data\":{\"object\":{\"id\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"object\":\"payment_intent\",\"amount\":5300,\"amount_capturable\":0,\"amount_received\":5300,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HL897HiibShxDkj53rCg3YM\",\"object\":\"charge\",\"amount\":5300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HL898HiibShxDkjC0NnmC5h\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"34555\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Craft\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598623297,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":28,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"payment_method\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HL897HiibShxDkj53rCg3YM/rcpt_Huy5xu57gK26fcUYfBPq7P008eNLlnQ\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HL897HiibShxDkj53rCg3YM/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp\"},\"client_secret\":\"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN\",\"confirmation_method\":\"automatic\",\"created\":1598623257,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":\"cha@cha.com\",\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_yoRJXEGhBJQly2\",\"idempotency_key\":null},\"type\":\"payment_intent.succeeded\",\"webhook_event\":{\"id\":\"evt_1HL898HiibShxDkjS3WKNA9n\",\"data\":{\"object\":{\"id\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"object\":\"payment_intent\",\"amount\":5300,\"amount_capturable\":0,\"amount_received\":5300,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HL897HiibShxDkj53rCg3YM\",\"object\":\"charge\",\"amount\":5300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HL898HiibShxDkjC0NnmC5h\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"34555\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Craft\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598623297,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":28,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"payment_method\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HL897HiibShxDkj53rCg3YM/rcpt_Huy5xu57gK26fcUYfBPq7P008eNLlnQ\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HL897HiibShxDkj53rCg3YM/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HL88THiibShxDkjwQc9akGp\"},\"client_secret\":\"pi_1HL88THiibShxDkjwQc9akGp_secret_RxqOINKd4xOGHIkpVzSJya6yN\",\"confirmation_method\":\"automatic\",\"created\":1598623257,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1HL896HiibShxDkjjOFLkXnt\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":\"cha@cha.com\",\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-28 14:01:39.187181"], ["updated_at", "2020-08-28 14:01:39.187181"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 5ab647a7-36c7-4484-8890-c16ea013df2f) to Async(default) with arguments: 287
Completed 200 OK in 44ms (Views: 2.1ms | ActiveRecord: 13.7ms | Allocations: 42358)


[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f] Performing ProcessEventsJob (Job ID: 5ab647a7-36c7-4484-8890-c16ea013df2f) from Async(default) enqueued at 2020-08-28T14:01:39Z with arguments: 287
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[36mWebhookEvent Update (0.7ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 14:01:39.230037"], ["id", 287]]
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[36mWebhookEvent Update (0.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 14:01:39.260458"], ["id", 287]]
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [5ab647a7-36c7-4484-8890-c16ea013df2f] Performed ProcessEventsJob (Job ID: 5ab647a7-36c7-4484-8890-c16ea013df2f) from Async(default) in 51.69ms
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 10:01:39 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HL899HiibShxDkjGxOp6Sit", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598623299, "data"=>{"object"=>{"id"=>"cs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5300, "amount_total"=>5300, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:5000/checkout/cancel", "client_reference_id"=>"256", "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "customer_email"=>nil, "display_items"=>[{"amount"=>5300, "currency"=>"usd", "custom"=>{"description"=>"Donation to St. Paul's", "images"=>nil, "name"=>"St. Paul's Episcopal Church"}, "quantity"=>1, "type"=>"custom"}], "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_1HL88THiibShxDkjwQc9akGp", "payment_method_types"=>["card"], "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}", "total_details"=>{"amount_discount"=>0, "amount_tax"=>0}}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"checkout.session.completed", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HL899HiibShxDkjGxOp6Sit", "data"=>{"object"=>{"id"=>"cs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5300, "amount_total"=>5300, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:5000/checkout/cancel", "client_reference_id"=>"256", "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "customer_email"=>nil, "display_items"=>[{"amount"=>5300, "currency"=>"usd", "custom"=>{"description"=>"Donation to St. Paul's", "images"=>nil, "name"=>"St. Paul's Episcopal Church"}, "quantity"=>1, "type"=>"custom"}], "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_1HL88THiibShxDkjwQc9akGp", "payment_method_types"=>["card"], "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}", "total_details"=>{"amount_discount"=>0, "amount_tax"=>0}}}}}
  [1m[36mWebhookEvent Load (0.8ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HL899HiibShxDkjGxOp6Sit"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (0.9ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HL899HiibShxDkjGxOp6Sit"], ["data", "{\"id\":\"evt_1HL899HiibShxDkjGxOp6Sit\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598623299,\"data\":{\"object\":{\"id\":\"cs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ\",\"object\":\"checkout.session\",\"allow_promotion_codes\":null,\"amount_subtotal\":5300,\"amount_total\":5300,\"billing_address_collection\":null,\"cancel_url\":\"http://localhost:5000/checkout/cancel\",\"client_reference_id\":\"256\",\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"customer_email\":null,\"display_items\":[{\"amount\":5300,\"currency\":\"usd\",\"custom\":{\"description\":\"Donation to St. Paul's\",\"images\":null,\"name\":\"St. Paul's Episcopal Church\"},\"quantity\":1,\"type\":\"custom\"}],\"livemode\":false,\"locale\":null,\"metadata\":{},\"mode\":\"payment\",\"payment_intent\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"payment_method_types\":[\"card\"],\"setup_intent\":null,\"shipping\":null,\"shipping_address_collection\":null,\"submit_type\":null,\"subscription\":null,\"success_url\":\"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}\",\"total_details\":{\"amount_discount\":0,\"amount_tax\":0}}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"checkout.session.completed\",\"webhook_event\":{\"id\":\"evt_1HL899HiibShxDkjGxOp6Sit\",\"data\":{\"object\":{\"id\":\"cs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ\",\"object\":\"checkout.session\",\"allow_promotion_codes\":null,\"amount_subtotal\":5300,\"amount_total\":5300,\"billing_address_collection\":null,\"cancel_url\":\"http://localhost:5000/checkout/cancel\",\"client_reference_id\":\"256\",\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"customer_email\":null,\"display_items\":[{\"amount\":5300,\"currency\":\"usd\",\"custom\":{\"description\":\"Donation to St. Paul's\",\"images\":null,\"name\":\"St. Paul's Episcopal Church\"},\"quantity\":1,\"type\":\"custom\"}],\"livemode\":false,\"locale\":null,\"metadata\":{},\"mode\":\"payment\",\"payment_intent\":\"pi_1HL88THiibShxDkjwQc9akGp\",\"payment_method_types\":[\"card\"],\"setup_intent\":null,\"shipping\":null,\"shipping_address_collection\":null,\"submit_type\":null,\"subscription\":null,\"success_url\":\"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}\",\"total_details\":{\"amount_discount\":0,\"amount_tax\":0}}}}}"], ["created_at", "2020-08-28 14:01:39.641068"], ["updated_at", "2020-08-28 14:01:39.641068"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 62f5dc54-9246-44b3-bfc8-2cb94c3b4365) to Async(default) with arguments: 288
Completed 200 OK in 41ms (Views: 0.8ms | ActiveRecord: 14.7ms | Allocations: 19113)


[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365] Performing ProcessEventsJob (Job ID: 62f5dc54-9246-44b3-bfc8-2cb94c3b4365) from Async(default) enqueued at 2020-08-28T14:01:39Z with arguments: 288
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[36mWebhookEvent Load (0.8ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[36mWebhookEvent Update (0.5ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 14:01:39.682557"], ["id", 288]]
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."stripe_id" = $1 LIMIT $2[0m  [["stripe_id", "cus_HXiST3X80AjQq4"], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/services/events/stripe_handler.rb:13:in `process'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[36mDonation Load (0.9ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE (256) LIMIT $1[0m  [["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/services/events/stripe_handler.rb:19:in `process'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[36mWebhookEvent Update (0.7ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type integer\nLINE 1: SELECT \"donations\".* FROM \"donations\" WHERE (256) LIMIT $1\n                                                     ^\n"], ["updated_at", "2020-08-28 14:01:39.707685"], ["id", 288]]
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [62f5dc54-9246-44b3-bfc8-2cb94c3b4365] Performed ProcessEventsJob (Job ID: 62f5dc54-9246-44b3-bfc8-2cb94c3b4365) from Async(default) in 44.2ms
Started GET "/checkout/success?session_idcs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ" for 127.0.0.1 at 2020-08-28 10:01:41 -0400
Processing by CheckoutController#success as HTML
  Parameters: {"session_idcs_test_ALZrFPIZWgidzJsEu3bBJWtTHViVJcmFoEs4GVrCMnOA2MAEXQe2G6VJ"=>nil}
  Rendering checkout/success.html.erb within layouts/application
  Rendered checkout/success.html.erb within layouts/application (Duration: 14.0ms | Allocations: 80)
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1273)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 6.9ms | Allocations: 4735)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 362)
Completed 200 OK in 33ms (Views: 30.6ms | ActiveRecord: 0.6ms | Allocations: 14506)


  [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" ORDER BY "webhook_events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
Started GET "/donations/new" for 127.0.0.1 at 2020-08-28 14:48:12 -0400
Processing by DonationsController#new as HTML
  Rendering donations/new.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/donations/new.html.erb:4
  Rendered donations/_form.html.erb (Duration: 1.2ms | Allocations: 780)
  Rendered donations/new.html.erb within layouts/application (Duration: 27.0ms | Allocations: 15342)
  Rendered layouts/_header.html.erb (Duration: 1.1ms | Allocations: 1264)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 13.5ms | Allocations: 11859)
  Rendered layouts/_footer.html.erb (Duration: 0.7ms | Allocations: 351)
Completed 200 OK in 59ms (Views: 48.2ms | ActiveRecord: 1.2ms | Allocations: 42446)


Started POST "/donations" for 127.0.0.1 at 2020-08-28 14:48:19 -0400
Processing by DonationsController#create as JS
  Parameters: {"authenticity_token"=>"/fGp7MetOw5F1dEAopjTCZqlKLdcTmq/UtpyvjJy7l2n5e72TPU45aVsMmgrdBQEewOV3ZgHVZmkbmf4fJ1srA==", "donation"=>{"dollars"=>"35"}, "commit"=>"Set up donation"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[36mDonation Create (0.7ms)[0m  [1m[32mINSERT INTO "donations" ("user_id", "created_at", "updated_at", "amount", "dollars") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 318], ["created_at", "2020-08-28 18:48:19.356674"], ["updated_at", "2020-08-28 18:48:19.356674"], ["amount", 3500], ["dollars", 35]]
  â†³ app/controllers/donations_controller.rb:27:in `create'
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/donations_controller.rb:27:in `create'
Redirected to http://localhost:5000/donations/257
Completed 200 OK in 37ms (ActiveRecord: 13.6ms | Allocations: 13783)


Started GET "/donations/257" for 127.0.0.1 at 2020-08-28 14:48:19 -0400
Processing by DonationsController#show as HTML
  Parameters: {"id"=>"257"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ app/controllers/donations_controller.rb:59:in `set_donation'
  Rendering donations/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/donations/show.html.erb:1
  Rendered donations/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2291)
  Rendered layouts/_header.html.erb (Duration: 1.2ms | Allocations: 1263)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 3.5ms | Allocations: 2574)
  Rendered layouts/_footer.html.erb (Duration: 0.6ms | Allocations: 346)
Completed 200 OK in 29ms (Views: 19.9ms | ActiveRecord: 1.5ms | Allocations: 17834)


Started POST "/checkout/create" for 127.0.0.1 at 2020-08-28 14:48:21 -0400
Processing by CheckoutController#create as JS
  Parameters: {"authenticity_token"=>"0TVF5EgVLuMrgjW6OmVGcc4RInrH3e5/GSNQyRTdjvaplRBShYctA2Xn/x16Brx0QxevgQ1lRybrYSaLJ7Pq1A==", "id"=>"257"}
  [1m[36mDonation Load (0.6ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ app/controllers/checkout_controller.rb:5:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/controllers/checkout_controller.rb:12:in `create'
  Rendering checkout/create.js.erb
  Rendered checkout/create.js.erb (Duration: 0.2ms | Allocations: 12)
Completed 200 OK in 962ms (Views: 3.7ms | ActiveRecord: 1.1ms | Allocations: 9480)


Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 14:48:22 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLCccHiibShxDkjlkrx05pa", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598640502, "data"=>{"object"=>{"id"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "object"=>"payment_intent", "amount"=>3500, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV"}, "client_secret"=>"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ", "confirmation_method"=>"automatic", "created"=>1598640502, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_dTY1B5mSQGUIIH", "idempotency_key"=>nil}, "type"=>"payment_intent.created", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLCccHiibShxDkjlkrx05pa", "data"=>{"object"=>{"id"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "object"=>"payment_intent", "amount"=>3500, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV"}, "client_secret"=>"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ", "confirmation_method"=>"automatic", "created"=>1598640502, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Load (1.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLCccHiibShxDkjlkrx05pa"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (16.3ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLCccHiibShxDkjlkrx05pa"], ["data", "{\"id\":\"evt_1HLCccHiibShxDkjlkrx05pa\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598640502,\"data\":{\"object\":{\"id\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"object\":\"payment_intent\",\"amount\":3500,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV\"},\"client_secret\":\"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ\",\"confirmation_method\":\"automatic\",\"created\":1598640502,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_dTY1B5mSQGUIIH\",\"idempotency_key\":null},\"type\":\"payment_intent.created\",\"webhook_event\":{\"id\":\"evt_1HLCccHiibShxDkjlkrx05pa\",\"data\":{\"object\":{\"id\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"object\":\"payment_intent\",\"amount\":3500,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV\"},\"client_secret\":\"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ\",\"confirmation_method\":\"automatic\",\"created\":1598640502,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-28 18:48:23.076382"], ["updated_at", "2020-08-28 18:48:23.076382"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (56.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d) to Async(default) with arguments: 289
Completed 200 OK in 146ms (Views: 2.9ms | ActiveRecord: 74.5ms | Allocations: 24927)


[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d] Performing ProcessEventsJob (Job ID: 75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d) from Async(default) enqueued at 2020-08-28T18:48:23Z with arguments: 289
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[36mWebhookEvent Load (6.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[36mWebhookEvent Update (0.8ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 18:48:23.273719"], ["id", 289]]
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[35m (101.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[35m (5.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[36mWebhookEvent Update (1.6ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 18:48:23.434930"], ["id", 289]]
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d] Performed ProcessEventsJob (Job ID: 75bf9a75-5b8f-4aff-85a2-1fb46fb15a5d) from Async(default) in 281.49ms
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 14:49:08 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLCdLHiibShxDkjSbiSj3jt", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598640547, "data"=>{"object"=>{"id"=>"ch_1HLCdKHiibShxDkjRSo2MqrW", "object"=>"charge", "amount"=>3500, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLCdLHiibShxDkjMIwaYW96", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598640546, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>53, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_WhBSD4ioUD3FJK", "idempotency_key"=>nil}, "type"=>"charge.succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLCdLHiibShxDkjSbiSj3jt", "data"=>{"object"=>{"id"=>"ch_1HLCdKHiibShxDkjRSo2MqrW", "object"=>"charge", "amount"=>3500, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLCdLHiibShxDkjMIwaYW96", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598640546, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>53, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Load (1.1ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjSbiSj3jt"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 14:49:08 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLCdLHiibShxDkjAIlI783p", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598640546, "data"=>{"object"=>{"id"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "object"=>"payment_method", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "generated_from"=>nil, "last4"=>"4242", "networks"=>{"available"=>["visa"], "preferred"=>nil}, "three_d_secure_usage"=>{"supported"=>true}, "wallet"=>nil}, "created"=>1598640545, "customer"=>"cus_HXiST3X80AjQq4", "livemode"=>false, "metadata"=>{}, "type"=>"card"}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_WhBSD4ioUD3FJK", "idempotency_key"=>nil}, "type"=>"payment_method.attached", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLCdLHiibShxDkjAIlI783p", "data"=>{"object"=>{"id"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "object"=>"payment_method", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "generated_from"=>nil, "last4"=>"4242", "networks"=>{"available"=>["visa"], "preferred"=>nil}, "three_d_secure_usage"=>{"supported"=>true}, "wallet"=>nil}, "created"=>1598640545, "customer"=>"cus_HXiST3X80AjQq4", "livemode"=>false, "metadata"=>{}, "type"=>"card"}}}}
  [1m[36mWebhookEvent Create (13.6ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjSbiSj3jt"], ["data", "{\"id\":\"evt_1HLCdLHiibShxDkjSbiSj3jt\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598640547,\"data\":{\"object\":{\"id\":\"ch_1HLCdKHiibShxDkjRSo2MqrW\",\"object\":\"charge\",\"amount\":3500,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLCdLHiibShxDkjMIwaYW96\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598640546,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":53,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_WhBSD4ioUD3FJK\",\"idempotency_key\":null},\"type\":\"charge.succeeded\",\"webhook_event\":{\"id\":\"evt_1HLCdLHiibShxDkjSbiSj3jt\",\"data\":{\"object\":{\"id\":\"ch_1HLCdKHiibShxDkjRSo2MqrW\",\"object\":\"charge\",\"amount\":3500,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLCdLHiibShxDkjMIwaYW96\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598640546,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":53,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-28 18:49:08.052513"], ["updated_at", "2020-08-28 18:49:08.052513"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Load (11.2ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjAIlI783p"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 14:49:08 -0400
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: b8ed59bb-35ad-456b-887c-b31ab2f92142) to Async(default) with arguments: 290
Completed 200 OK in 111ms (Views: 2.5ms | ActiveRecord: 34.7ms | Allocations: 42345)


  [1m[36mWebhookEvent Create (33.0ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjAIlI783p"], ["data", "{\"id\":\"evt_1HLCdLHiibShxDkjAIlI783p\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598640546,\"data\":{\"object\":{\"id\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"object\":\"payment_method\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"generated_from\":null,\"last4\":\"4242\",\"networks\":{\"available\":[\"visa\"],\"preferred\":null},\"three_d_secure_usage\":{\"supported\":true},\"wallet\":null},\"created\":1598640545,\"customer\":\"cus_HXiST3X80AjQq4\",\"livemode\":false,\"metadata\":{},\"type\":\"card\"}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_WhBSD4ioUD3FJK\",\"idempotency_key\":null},\"type\":\"payment_method.attached\",\"webhook_event\":{\"id\":\"evt_1HLCdLHiibShxDkjAIlI783p\",\"data\":{\"object\":{\"id\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"object\":\"payment_method\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"generated_from\":null,\"last4\":\"4242\",\"networks\":{\"available\":[\"visa\"],\"preferred\":null},\"three_d_secure_usage\":{\"supported\":true},\"wallet\":null},\"created\":1598640545,\"customer\":\"cus_HXiST3X80AjQq4\",\"livemode\":false,\"metadata\":{},\"type\":\"card\"}}}}"], ["created_at", "2020-08-28 18:49:08.106688"], ["updated_at", "2020-08-28 18:49:08.106688"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142] Performing ProcessEventsJob (Job ID: b8ed59bb-35ad-456b-887c-b31ab2f92142) from Async(default) enqueued at 2020-08-28T18:49:08Z with arguments: 290
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 194fe2db-b619-496a-99d9-92db8968c6b7) to Async(default) with arguments: 291
Completed 200 OK in 87ms (Views: 1.0ms | ActiveRecord: 55.9ms | Allocations: 55544)


Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLCdLHiibShxDkjtwhSROmN", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598640547, "data"=>{"object"=>{"id"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "object"=>"payment_intent", "amount"=>3500, "amount_capturable"=>0, "amount_received"=>3500, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HLCdKHiibShxDkjRSo2MqrW", "object"=>"charge", "amount"=>3500, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLCdLHiibShxDkjMIwaYW96", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598640546, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>53, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV"}, "client_secret"=>"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ", "confirmation_method"=>"automatic", "created"=>1598640502, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>"cha@cha.com", "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>"req_WhBSD4ioUD3FJK", "idempotency_key"=>nil}, "type"=>"payment_intent.succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLCdLHiibShxDkjtwhSROmN", "data"=>{"object"=>{"id"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "object"=>"payment_intent", "amount"=>3500, "amount_capturable"=>0, "amount_received"=>3500, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HLCdKHiibShxDkjRSo2MqrW", "object"=>"charge", "amount"=>3500, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLCdLHiibShxDkjMIwaYW96", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"33444", "state"=>nil}, "email"=>"cha@cha.com", "name"=>"Sha Cha", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598640546, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>nil, "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>53, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>"pass"}, "country"=>"US", "exp_month"=>12, "exp_year"=>2021, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"cha@cha.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV"}, "client_secret"=>"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ", "confirmation_method"=>"automatic", "created"=>1598640502, "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "description"=>nil, "invoice"=>nil, "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1HLCdJHiibShxDkjgPbUlnuW", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>"cha@cha.com", "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}}}
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7] Performing ProcessEventsJob (Job ID: 194fe2db-b619-496a-99d9-92db8968c6b7) from Async(default) enqueued at 2020-08-28T18:49:08Z with arguments: 291
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:5:in `perform'
  [1m[36mWebhookEvent Load (0.9ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjtwhSROmN"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[35m (5.0ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:7:in `perform'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[36mWebhookEvent Update (3.0ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 18:49:08.189190"], ["id", 291]]
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[36mWebhookEvent Load (2.1ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:5:in `perform'
  [1m[36mWebhookEvent Create (5.2ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLCdLHiibShxDkjtwhSROmN"], ["data", "{\"id\":\"evt_1HLCdLHiibShxDkjtwhSROmN\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598640547,\"data\":{\"object\":{\"id\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"object\":\"payment_intent\",\"amount\":3500,\"amount_capturable\":0,\"amount_received\":3500,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HLCdKHiibShxDkjRSo2MqrW\",\"object\":\"charge\",\"amount\":3500,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLCdLHiibShxDkjMIwaYW96\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598640546,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":53,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV\"},\"client_secret\":\"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ\",\"confirmation_method\":\"automatic\",\"created\":1598640502,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":\"cha@cha.com\",\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":\"req_WhBSD4ioUD3FJK\",\"idempotency_key\":null},\"type\":\"payment_intent.succeeded\",\"webhook_event\":{\"id\":\"evt_1HLCdLHiibShxDkjtwhSROmN\",\"data\":{\"object\":{\"id\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"object\":\"payment_intent\",\"amount\":3500,\"amount_capturable\":0,\"amount_received\":3500,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HLCdKHiibShxDkjRSo2MqrW\",\"object\":\"charge\",\"amount\":3500,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLCdLHiibShxDkjMIwaYW96\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"33444\",\"state\":null},\"email\":\"cha@cha.com\",\"name\":\"Sha Cha\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598640546,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":null,\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":53,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":\"pass\"},\"country\":\"US\",\"exp_month\":12,\"exp_year\":2021,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"cha@cha.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLCdKHiibShxDkjRSo2MqrW/rcpt_Hv2ijVLnWmuMV8qiaumpyCg3mpxOJYX\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLCdKHiibShxDkjRSo2MqrW/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HLCccHiibShxDkjfQAIl2LV\"},\"client_secret\":\"pi_1HLCccHiibShxDkjfQAIl2LV_secret_oXVLH89yK1DTvXXV0LVqrLEqJ\",\"confirmation_method\":\"automatic\",\"created\":1598640502,\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"description\":null,\"invoice\":null,\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1HLCdJHiibShxDkjgPbUlnuW\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":\"cha@cha.com\",\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-28 18:49:08.192593"], ["updated_at", "2020-08-28 18:49:08.192593"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[36mWebhookEvent Update (4.3ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 18:49:08.204128"], ["id", 290]]
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:7:in `perform'
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 59734748-202d-45bf-b518-45c3c35e1cd4) to Async(default) with arguments: 292
Completed 200 OK in 51ms (Views: 1.6ms | ActiveRecord: 14.7ms | Allocations: 60540)


[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4] Performing ProcessEventsJob (Job ID: 59734748-202d-45bf-b518-45c3c35e1cd4) from Async(default) enqueued at 2020-08-28T18:49:08Z with arguments: 292
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[36mWebhookEvent Update (2.0ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 18:49:08.214973"], ["id", 291]]
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[36mWebhookEvent Load (1.6ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[36mWebhookEvent Update (1.8ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 18:49:08.242114"], ["id", 290]]
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [194fe2db-b619-496a-99d9-92db8968c6b7] Performed ProcessEventsJob (Job ID: 194fe2db-b619-496a-99d9-92db8968c6b7) from Async(default) in 74.88ms
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[36mWebhookEvent Update (1.0ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 18:49:08.248378"], ["id", 292]]
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [b8ed59bb-35ad-456b-887c-b31ab2f92142] Performed ProcessEventsJob (Job ID: b8ed59bb-35ad-456b-887c-b31ab2f92142) from Async(default) in 110.91ms
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[36mWebhookEvent Update (0.3ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-28 18:49:08.278672"], ["id", 292]]
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 14:49:08 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLCdMHiibShxDkjXoNqzT9q", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598640548, "data"=>{"object"=>{"id"=>"cs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>3500, "amount_total"=>3500, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:5000/checkout/cancel", "client_reference_id"=>"257", "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "customer_email"=>nil, "display_items"=>[{"amount"=>3500, "currency"=>"usd", "custom"=>{"description"=>"Donation to St. Paul's", "images"=>nil, "name"=>"St. Paul's Episcopal Church"}, "quantity"=>1, "type"=>"custom"}], "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method_types"=>["card"], "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}", "total_details"=>{"amount_discount"=>0, "amount_tax"=>0}}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"checkout.session.completed", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLCdMHiibShxDkjXoNqzT9q", "data"=>{"object"=>{"id"=>"cs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>3500, "amount_total"=>3500, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:5000/checkout/cancel", "client_reference_id"=>"257", "currency"=>"usd", "customer"=>"cus_HXiST3X80AjQq4", "customer_email"=>nil, "display_items"=>[{"amount"=>3500, "currency"=>"usd", "custom"=>{"description"=>"Donation to St. Paul's", "images"=>nil, "name"=>"St. Paul's Episcopal Church"}, "quantity"=>1, "type"=>"custom"}], "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_1HLCccHiibShxDkjfQAIl2LV", "payment_method_types"=>["card"], "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}", "total_details"=>{"amount_discount"=>0, "amount_tax"=>0}}}}}
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [59734748-202d-45bf-b518-45c3c35e1cd4] Performed ProcessEventsJob (Job ID: 59734748-202d-45bf-b518-45c3c35e1cd4) from Async(default) in 59.44ms
  [1m[36mWebhookEvent Load (0.5ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLCdMHiibShxDkjXoNqzT9q"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLCdMHiibShxDkjXoNqzT9q"], ["data", "{\"id\":\"evt_1HLCdMHiibShxDkjXoNqzT9q\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598640548,\"data\":{\"object\":{\"id\":\"cs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh\",\"object\":\"checkout.session\",\"allow_promotion_codes\":null,\"amount_subtotal\":3500,\"amount_total\":3500,\"billing_address_collection\":null,\"cancel_url\":\"http://localhost:5000/checkout/cancel\",\"client_reference_id\":\"257\",\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"customer_email\":null,\"display_items\":[{\"amount\":3500,\"currency\":\"usd\",\"custom\":{\"description\":\"Donation to St. Paul's\",\"images\":null,\"name\":\"St. Paul's Episcopal Church\"},\"quantity\":1,\"type\":\"custom\"}],\"livemode\":false,\"locale\":null,\"metadata\":{},\"mode\":\"payment\",\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method_types\":[\"card\"],\"setup_intent\":null,\"shipping\":null,\"shipping_address_collection\":null,\"submit_type\":null,\"subscription\":null,\"success_url\":\"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}\",\"total_details\":{\"amount_discount\":0,\"amount_tax\":0}}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"checkout.session.completed\",\"webhook_event\":{\"id\":\"evt_1HLCdMHiibShxDkjXoNqzT9q\",\"data\":{\"object\":{\"id\":\"cs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh\",\"object\":\"checkout.session\",\"allow_promotion_codes\":null,\"amount_subtotal\":3500,\"amount_total\":3500,\"billing_address_collection\":null,\"cancel_url\":\"http://localhost:5000/checkout/cancel\",\"client_reference_id\":\"257\",\"currency\":\"usd\",\"customer\":\"cus_HXiST3X80AjQq4\",\"customer_email\":null,\"display_items\":[{\"amount\":3500,\"currency\":\"usd\",\"custom\":{\"description\":\"Donation to St. Paul's\",\"images\":null,\"name\":\"St. Paul's Episcopal Church\"},\"quantity\":1,\"type\":\"custom\"}],\"livemode\":false,\"locale\":null,\"metadata\":{},\"mode\":\"payment\",\"payment_intent\":\"pi_1HLCccHiibShxDkjfQAIl2LV\",\"payment_method_types\":[\"card\"],\"setup_intent\":null,\"shipping\":null,\"shipping_address_collection\":null,\"submit_type\":null,\"subscription\":null,\"success_url\":\"http://localhost:5000/checkout/success?session_id{CHECKOUT_SESSION_ID}\",\"total_details\":{\"amount_discount\":0,\"amount_tax\":0}}}}}"], ["created_at", "2020-08-28 18:49:08.300454"], ["updated_at", "2020-08-28 18:49:08.300454"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 15666581-25b4-40b3-9259-b47f07ce7373) to Async(default) with arguments: 293
Completed 200 OK in 53ms (Views: 3.8ms | ActiveRecord: 11.3ms | Allocations: 19934)


[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373] Performing ProcessEventsJob (Job ID: 15666581-25b4-40b3-9259-b47f07ce7373) from Async(default) enqueued at 2020-08-28T18:49:08Z with arguments: 293
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mWebhookEvent Load (7.8ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mWebhookEvent Update (0.7ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-28 18:49:08.408663"], ["id", 293]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."stripe_id" = $1 LIMIT $2[0m  [["stripe_id", "cus_HXiST3X80AjQq4"], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:13:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:19:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:20:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:20:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mDonation Update (0.4ms)[0m  [1m[33mUPDATE "donations" SET "stripe_id" = $1, "status" = $2, "updated_at" = $3 WHERE "donations"."id" = $4[0m  [["stripe_id", "pi_1HLCccHiibShxDkjfQAIl2LV"], ["status", "1"], ["updated_at", "2020-08-28 18:49:08.430607"], ["id", 257]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:20:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/services/events/stripe_handler.rb:20:in `process'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:13:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[36mWebhookEvent Update (0.3ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 2], ["updated_at", "2020-08-28 18:49:08.441341"], ["id", 293]]
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:13:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373]   â†³ app/jobs/process_events_job.rb:13:in `perform'
[ActiveJob] [ProcessEventsJob] [15666581-25b4-40b3-9259-b47f07ce7373] Performed ProcessEventsJob (Job ID: 15666581-25b4-40b3-9259-b47f07ce7373) from Async(default) in 56.03ms
Started GET "/checkout/success?session_idcs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh" for 127.0.0.1 at 2020-08-28 14:49:09 -0400
Processing by CheckoutController#success as HTML
  Parameters: {"session_idcs_test_WYXPFf4w9uWu8JSSgjvAUOAP0VkiVQsSvvggwEIbN205xmJuGU396tgh"=>nil}
  Rendering checkout/success.html.erb within layouts/application
  Rendered checkout/success.html.erb within layouts/application (Duration: 0.2ms | Allocations: 6)
  Rendered layouts/_header.html.erb (Duration: 5.0ms | Allocations: 1273)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:3
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 318], ["LIMIT", 1]]
  â†³ app/views/layouts/_navbar.html.erb:9
  Rendered layouts/_navbar.html.erb (Duration: 11.1ms | Allocations: 4730)
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 364)
Completed 200 OK in 49ms (Views: 44.0ms | ActiveRecord: 1.0ms | Allocations: 13860)


  [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" ORDER BY "webhook_events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-28 20:23:48 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLHrEHiibShxDkjsZR5IO3f", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598660628, "data"=>{"object"=>{"object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>40000, "amount_paid"=>0, "amount_remaining"=>40000, "application_fee_amount"=>nil, "attempt_count"=>0, "attempted"=>false, "billing_reason"=>"upcoming", "charge"=>nil, "collection_method"=>"charge_automatically", "created"=>1599265338, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HP7iwcfOLMrpAp", "customer_address"=>nil, "customer_email"=>"bb@bb.net", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_tmp_550f3c94a90ed9", "object"=>"line_item", "amount"=>40000, "currency"=>"usd", "description"=>"400 Ã— Stewardship (at $1.00 / every 3 months)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1607127738, "start"=>1599265338}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>400, "subscription"=>"sub_HPHtlqw8dJAF3y", "subscription_item"=>"si_HPHt5wO2dJ3VjH", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/upcoming/lines?customer=cus_HP7iwcfOLMrpAp&subscription=sub_HPHtlqw8dJAF3y"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>1599268938, "number"=>nil, "paid"=>false, "payment_intent"=>nil, "period_end"=>1599265338, "period_start"=>1591316538, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"draft", "status_transitions"=>{"finalized_at"=>nil, "marked_uncollectible_at"=>nil, "paid_at"=>nil, "voided_at"=>nil}, "subscription"=>"sub_HPHtlqw8dJAF3y", "subtotal"=>40000, "tax"=>nil, "tax_percent"=>nil, "total"=>40000, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"invoice.upcoming", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLHrEHiibShxDkjsZR5IO3f", "data"=>{"object"=>{"object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>40000, "amount_paid"=>0, "amount_remaining"=>40000, "application_fee_amount"=>nil, "attempt_count"=>0, "attempted"=>false, "billing_reason"=>"upcoming", "charge"=>nil, "collection_method"=>"charge_automatically", "created"=>1599265338, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HP7iwcfOLMrpAp", "customer_address"=>nil, "customer_email"=>"bb@bb.net", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_tmp_550f3c94a90ed9", "object"=>"line_item", "amount"=>40000, "currency"=>"usd", "description"=>"400 Ã— Stewardship (at $1.00 / every 3 months)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1607127738, "start"=>1599265338}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>400, "subscription"=>"sub_HPHtlqw8dJAF3y", "subscription_item"=>"si_HPHt5wO2dJ3VjH", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/upcoming/lines?customer=cus_HP7iwcfOLMrpAp&subscription=sub_HPHtlqw8dJAF3y"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>1599268938, "number"=>nil, "paid"=>false, "payment_intent"=>nil, "period_end"=>1599265338, "period_start"=>1591316538, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"draft", "status_transitions"=>{"finalized_at"=>nil, "marked_uncollectible_at"=>nil, "paid_at"=>nil, "voided_at"=>nil}, "subscription"=>"sub_HPHtlqw8dJAF3y", "subtotal"=>40000, "tax"=>nil, "tax_percent"=>nil, "total"=>40000, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>nil}}}}
  [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLHrEHiibShxDkjsZR5IO3f"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLHrEHiibShxDkjsZR5IO3f"], ["data", "{\"id\":\"evt_1HLHrEHiibShxDkjsZR5IO3f\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598660628,\"data\":{\"object\":{\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":40000,\"amount_paid\":0,\"amount_remaining\":40000,\"application_fee_amount\":null,\"attempt_count\":0,\"attempted\":false,\"billing_reason\":\"upcoming\",\"charge\":null,\"collection_method\":\"charge_automatically\",\"created\":1599265338,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HP7iwcfOLMrpAp\",\"customer_address\":null,\"customer_email\":\"bb@bb.net\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_tmp_550f3c94a90ed9\",\"object\":\"line_item\",\"amount\":40000,\"currency\":\"usd\",\"description\":\"400 Ã— Stewardship (at $1.00 / every 3 months)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1607127738,\"start\":1599265338},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":400,\"subscription\":\"sub_HPHtlqw8dJAF3y\",\"subscription_item\":\"si_HPHt5wO2dJ3VjH\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/upcoming/lines?customer=cus_HP7iwcfOLMrpAp\\u0026subscription=sub_HPHtlqw8dJAF3y\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":1599268938,\"number\":null,\"paid\":false,\"payment_intent\":null,\"period_end\":1599265338,\"period_start\":1591316538,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"draft\",\"status_transitions\":{\"finalized_at\":null,\"marked_uncollectible_at\":null,\"paid_at\":null,\"voided_at\":null},\"subscription\":\"sub_HPHtlqw8dJAF3y\",\"subtotal\":40000,\"tax\":null,\"tax_percent\":null,\"total\":40000,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"invoice.upcoming\",\"webhook_event\":{\"id\":\"evt_1HLHrEHiibShxDkjsZR5IO3f\",\"data\":{\"object\":{\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":40000,\"amount_paid\":0,\"amount_remaining\":40000,\"application_fee_amount\":null,\"attempt_count\":0,\"attempted\":false,\"billing_reason\":\"upcoming\",\"charge\":null,\"collection_method\":\"charge_automatically\",\"created\":1599265338,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HP7iwcfOLMrpAp\",\"customer_address\":null,\"customer_email\":\"bb@bb.net\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_tmp_550f3c94a90ed9\",\"object\":\"line_item\",\"amount\":40000,\"currency\":\"usd\",\"description\":\"400 Ã— Stewardship (at $1.00 / every 3 months)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1607127738,\"start\":1599265338},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":400,\"subscription\":\"sub_HPHtlqw8dJAF3y\",\"subscription_item\":\"si_HPHt5wO2dJ3VjH\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/upcoming/lines?customer=cus_HP7iwcfOLMrpAp\\u0026subscription=sub_HPHtlqw8dJAF3y\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":1599268938,\"number\":null,\"paid\":false,\"payment_intent\":null,\"period_end\":1599265338,\"period_start\":1591316538,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"draft\",\"status_transitions\":{\"finalized_at\":null,\"marked_uncollectible_at\":null,\"paid_at\":null,\"voided_at\":null},\"subscription\":\"sub_HPHtlqw8dJAF3y\",\"subtotal\":40000,\"tax\":null,\"tax_percent\":null,\"total\":40000,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":null}}}}"], ["created_at", "2020-08-29 00:23:48.644870"], ["updated_at", "2020-08-29 00:23:48.644870"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: ac2f18fe-042c-4d32-9936-11e780107846) to Async(default) with arguments: 294
Completed 200 OK in 70ms (Views: 4.4ms | ActiveRecord: 19.5ms | Allocations: 41754)


[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846] Performing ProcessEventsJob (Job ID: ac2f18fe-042c-4d32-9936-11e780107846) from Async(default) enqueued at 2020-08-29T00:23:48Z with arguments: 294
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[36mWebhookEvent Update (0.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 00:23:48.734571"], ["id", 294]]
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[36mWebhookEvent Update (0.6ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "processing_errors" = $2, "updated_at" = $3 WHERE "webhook_events"."id" = $4[0m  [["state", 3], ["processing_errors", "undefined method `customer' for nil:NilClass"], ["updated_at", "2020-08-29 00:23:48.773132"], ["id", 294]]
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846]   â†³ app/jobs/process_events_job.rb:15:in `rescue in perform'
[ActiveJob] [ProcessEventsJob] [ac2f18fe-042c-4d32-9936-11e780107846] Performed ProcessEventsJob (Job ID: ac2f18fe-042c-4d32-9936-11e780107846) from Async(default) in 68.35ms
  [1m[36mWebhookEvent Load (101.0ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" ORDER BY "webhook_events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[36mUser Load (55.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."stripe_id" = $1 LIMIT $2[0m  [["stripe_id", "cus_HP7iwcfOLMrpAp"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bb@bb.net"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (19.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 313], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bb@bb.net"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bb@bb.net"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bb@bb.net"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 313], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPledge Load (16.8ms)[0m  [1m[34mSELECT "pledges".* FROM "pledges" WHERE "pledges"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (30.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (29.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mStripeReport Create (104.2ms)[0m  [1m[32mINSERT INTO "stripe_reports" ("amount", "pledge_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["amount", 3200], ["pledge_id", 291], ["user_id", 16], ["created_at", "2020-08-29 20:41:08.690010"], ["updated_at", "2020-08-29 20:41:08.690010"]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPledge Load (0.3ms)[0m  [1m[34mSELECT "pledges".* FROM "pledges" ORDER BY "pledges"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  [1m[36mStripeReport Create (0.7ms)[0m  [1m[32mINSERT INTO "stripe_reports" ("amount", "pledge_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["amount", 2300], ["pledge_id", 85], ["user_id", 312], ["created_at", "2020-08-29 20:43:27.101170"], ["updated_at", "2020-08-29 20:43:27.101170"]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mStripeReport Create (0.5ms)[0m  [1m[32mINSERT INTO "stripe_reports" ("amount", "pledge_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["amount", 2300], ["pledge_id", 85], ["user_id", 312], ["created_at", "2020-08-29 20:43:27.101170"], ["updated_at", "2020-08-29 20:43:27.101170"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:15 -0400
  [1m[35m (21.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavGHiibShxDkjaI3fTHNZ", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733914, "data"=>{"object"=>{"id"=>"pi_1HLavFHiibShxDkjoZHhZW11", "object"=>"payment_intent", "amount"=>2300, "amount_capturable"=>0, "amount_received"=>2300, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "object"=>"charge", "amount"=>2300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLavGHiibShxDkjXtanuIFv", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"25252", "state"=>nil}, "email"=>"frankyB@gmail.com", "name"=>"Franky B", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598733914, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>17, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>nil}, "country"=>"US", "exp_month"=>4, "exp_year"=>2022, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"frankyB@gmail.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11"}, "client_secret"=>"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2", "confirmation_method"=>"automatic", "created"=>1598733913, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>"in_1HLZylHiibShxDkjm6Y3Wc3G-initial_attempt-f81f4a9906fbb39b8"}, "type"=>"payment_intent.succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavGHiibShxDkjaI3fTHNZ", "data"=>{"object"=>{"id"=>"pi_1HLavFHiibShxDkjoZHhZW11", "object"=>"payment_intent", "amount"=>2300, "amount_capturable"=>0, "amount_received"=>2300, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[{"id"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "object"=>"charge", "amount"=>2300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLavGHiibShxDkjXtanuIFv", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"25252", "state"=>nil}, "email"=>"frankyB@gmail.com", "name"=>"Franky B", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598733914, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>17, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>nil}, "country"=>"US", "exp_month"=>4, "exp_year"=>2022, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"frankyB@gmail.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11"}, "client_secret"=>"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2", "confirmation_method"=>"automatic", "created"=>1598733913, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Load (0.6ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavGHiibShxDkjaI3fTHNZ"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (48.7ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavGHiibShxDkjaI3fTHNZ"], ["data", "{\"id\":\"evt_1HLavGHiibShxDkjaI3fTHNZ\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733914,\"data\":{\"object\":{\"id\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"object\":\"payment_intent\",\"amount\":2300,\"amount_capturable\":0,\"amount_received\":2300,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"object\":\"charge\",\"amount\":2300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLavGHiibShxDkjXtanuIFv\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"25252\",\"state\":null},\"email\":\"frankyB@gmail.com\",\"name\":\"Franky B\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598733914,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":17,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":null},\"country\":\"US\",\"exp_month\":4,\"exp_year\":2022,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"frankyB@gmail.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11\"},\"client_secret\":\"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2\",\"confirmation_method\":\"automatic\",\"created\":1598733913,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":\"in_1HLZylHiibShxDkjm6Y3Wc3G-initial_attempt-f81f4a9906fbb39b8\"},\"type\":\"payment_intent.succeeded\",\"webhook_event\":{\"id\":\"evt_1HLavGHiibShxDkjaI3fTHNZ\",\"data\":{\"object\":{\"id\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"object\":\"payment_intent\",\"amount\":2300,\"amount_capturable\":0,\"amount_received\":2300,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[{\"id\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"object\":\"charge\",\"amount\":2300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLavGHiibShxDkjXtanuIFv\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"25252\",\"state\":null},\"email\":\"frankyB@gmail.com\",\"name\":\"Franky B\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598733914,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":17,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":null},\"country\":\"US\",\"exp_month\":4,\"exp_year\":2022,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"frankyB@gmail.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11\"},\"client_secret\":\"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2\",\"confirmation_method\":\"automatic\",\"created\":1598733913,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-29 20:45:15.531305"], ["updated_at", "2020-08-29 20:45:15.531305"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 3b8f51e7-4265-403c-8ad8-a51e508c0f82) to Async(default) with arguments: 295
Completed 200 OK in 158ms (Views: 4.2ms | ActiveRecord: 66.1ms | Allocations: 49066)


[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82] Performing ProcessEventsJob (Job ID: 3b8f51e7-4265-403c-8ad8-a51e508c0f82) from Async(default) enqueued at 2020-08-29T20:45:15Z with arguments: 295
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:15 -0400
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   [1m[36mWebhookEvent Update (0.5ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:15.815248"], ["id", 295]]
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [3b8f51e7-4265-403c-8ad8-a51e508c0f82] Error performing ProcessEventsJob (Job ID: 3b8f51e7-4265-403c-8ad8-a51e508c0f82) from Async(default) in 61.77ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavGHiibShxDkjgq5aiRIc", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733914, "data"=>{"object"=>{"id"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "object"=>"charge", "amount"=>2300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLavGHiibShxDkjXtanuIFv", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"25252", "state"=>nil}, "email"=>"frankyB@gmail.com", "name"=>"Franky B", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598733914, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>17, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>nil}, "country"=>"US", "exp_month"=>4, "exp_year"=>2022, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"frankyB@gmail.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"in_1HLZylHiibShxDkjm6Y3Wc3G-initial_attempt-f81f4a9906fbb39b8"}, "type"=>"charge.succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavGHiibShxDkjgq5aiRIc", "data"=>{"object"=>{"id"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "object"=>"charge", "amount"=>2300, "amount_refunded"=>0, "application"=>nil, "application_fee"=>nil, "application_fee_amount"=>nil, "balance_transaction"=>"txn_1HLavGHiibShxDkjXtanuIFv", "billing_details"=>{"address"=>{"city"=>nil, "country"=>"US", "line1"=>nil, "line2"=>nil, "postal_code"=>"25252", "state"=>nil}, "email"=>"frankyB@gmail.com", "name"=>"Franky B", "phone"=>nil}, "calculated_statement_descriptor"=>"SAINTPAULSNAPLES.ORG", "captured"=>true, "created"=>1598733914, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "destination"=>nil, "dispute"=>nil, "disputed"=>false, "failure_code"=>nil, "failure_message"=>nil, "fraud_details"=>{}, "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "on_behalf_of"=>nil, "order"=>nil, "outcome"=>{"network_status"=>"approved_by_network", "reason"=>nil, "risk_level"=>"normal", "risk_score"=>17, "seller_message"=>"Payment complete.", "type"=>"authorized"}, "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "payment_method_details"=>{"card"=>{"brand"=>"visa", "checks"=>{"address_line1_check"=>nil, "address_postal_code_check"=>"pass", "cvc_check"=>nil}, "country"=>"US", "exp_month"=>4, "exp_year"=>2022, "fingerprint"=>"WBTT0Pw5xbIt233E", "funding"=>"credit", "installments"=>nil, "last4"=>"4242", "network"=>"visa", "three_d_secure"=>nil, "wallet"=>nil}, "type"=>"card"}, "receipt_email"=>"frankyB@gmail.com", "receipt_number"=>nil, "receipt_url"=>"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x", "refunded"=>false, "refunds"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds"}, "review"=>nil, "shipping"=>nil, "source"=>nil, "source_transfer"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"succeeded", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Load (0.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavGHiibShxDkjgq5aiRIc"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Create (14.8ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavGHiibShxDkjgq5aiRIc"], ["data", "{\"id\":\"evt_1HLavGHiibShxDkjgq5aiRIc\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733914,\"data\":{\"object\":{\"id\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"object\":\"charge\",\"amount\":2300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLavGHiibShxDkjXtanuIFv\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"25252\",\"state\":null},\"email\":\"frankyB@gmail.com\",\"name\":\"Franky B\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598733914,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":17,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":null},\"country\":\"US\",\"exp_month\":4,\"exp_year\":2022,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"frankyB@gmail.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":1,\"request\":{\"id\":null,\"idempotency_key\":\"in_1HLZylHiibShxDkjm6Y3Wc3G-initial_attempt-f81f4a9906fbb39b8\"},\"type\":\"charge.succeeded\",\"webhook_event\":{\"id\":\"evt_1HLavGHiibShxDkjgq5aiRIc\",\"data\":{\"object\":{\"id\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"object\":\"charge\",\"amount\":2300,\"amount_refunded\":0,\"application\":null,\"application_fee\":null,\"application_fee_amount\":null,\"balance_transaction\":\"txn_1HLavGHiibShxDkjXtanuIFv\",\"billing_details\":{\"address\":{\"city\":null,\"country\":\"US\",\"line1\":null,\"line2\":null,\"postal_code\":\"25252\",\"state\":null},\"email\":\"frankyB@gmail.com\",\"name\":\"Franky B\",\"phone\":null},\"calculated_statement_descriptor\":\"SAINTPAULSNAPLES.ORG\",\"captured\":true,\"created\":1598733914,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"destination\":null,\"dispute\":null,\"disputed\":false,\"failure_code\":null,\"failure_message\":null,\"fraud_details\":{},\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"on_behalf_of\":null,\"order\":null,\"outcome\":{\"network_status\":\"approved_by_network\",\"reason\":null,\"risk_level\":\"normal\",\"risk_score\":17,\"seller_message\":\"Payment complete.\",\"type\":\"authorized\"},\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"payment_method_details\":{\"card\":{\"brand\":\"visa\",\"checks\":{\"address_line1_check\":null,\"address_postal_code_check\":\"pass\",\"cvc_check\":null},\"country\":\"US\",\"exp_month\":4,\"exp_year\":2022,\"fingerprint\":\"WBTT0Pw5xbIt233E\",\"funding\":\"credit\",\"installments\":null,\"last4\":\"4242\",\"network\":\"visa\",\"three_d_secure\":null,\"wallet\":null},\"type\":\"card\"},\"receipt_email\":\"frankyB@gmail.com\",\"receipt_number\":null,\"receipt_url\":\"https://pay.stripe.com/receipts/acct_15tUEZHiibShxDkj/ch_1HLavGHiibShxDkj0Bcot6OH/rcpt_HvRoaE89DUD5ZuuTt6q5T2keMW6ld2x\",\"refunded\":false,\"refunds\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges/ch_1HLavGHiibShxDkj0Bcot6OH/refunds\"},\"review\":null,\"shipping\":null,\"source\":null,\"source_transfer\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"succeeded\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-29 20:45:15.867098"], ["updated_at", "2020-08-29 20:45:15.867098"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 2ed1389a-6cf6-43e5-8099-7af110643574) to Async(default) with arguments: 296
Completed 200 OK in 54ms (Views: 0.9ms | ActiveRecord: 30.6ms | Allocations: 32166)


[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574] Performing ProcessEventsJob (Job ID: 2ed1389a-6cf6-43e5-8099-7af110643574) from Async(default) enqueued at 2020-08-29T20:45:15Z with arguments: 296
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   [1m[36mWebhookEvent Load (0.9ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   [1m[36mWebhookEvent Update (0.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:15.923198"], ["id", 296]]
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [2ed1389a-6cf6-43e5-8099-7af110643574] Error performing ProcessEventsJob (Job ID: 2ed1389a-6cf6-43e5-8099-7af110643574) from Async(default) in 10.23ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:17 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavHHiibShxDkjP4umavep", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"cus_HTfrdHaUJIXzTt", "object"=>"customer", "address"=>nil, "balance"=>0, "created"=>1592328244, "currency"=>"usd", "default_source"=>nil, "delinquent"=>false, "description"=>nil, "discount"=>nil, "email"=>"frankyB@gmail.com", "invoice_prefix"=>"86A87608", "invoice_settings"=>{"custom_fields"=>nil, "default_payment_method"=>nil, "footer"=>nil}, "livemode"=>false, "metadata"=>{}, "name"=>nil, "next_invoice_sequence"=>46, "phone"=>nil, "preferred_locales"=>[], "shipping"=>nil, "sources"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/sources"}, "subscriptions"=>{"object"=>"list", "data"=>[{"id"=>"sub_HXpc286cBy6bD7", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1593287060, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1593287060, "current_period_end"=>1599335060, "current_period_start"=>1598730260, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HXpcOIEVnxhBGF", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1593287061, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HXpc286cBy6bD7"}, "latest_invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>23, "schedule"=>nil, "start_date"=>1593287060, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTmSCB4f6ppubB", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592352779, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592352779, "current_period_end"=>1600301579, "current_period_start"=>1592352779, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GuotiHiibShxDkjohKEdTRG", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTmSchi1I6bckD", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592352780, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>2500, "subscription"=>"sub_HTmSCB4f6ppubB", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTmSCB4f6ppubB"}, "latest_invoice"=>"in_1GuotjHiibShxDkjmvUEzmzP", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>2500, "schedule"=>nil, "start_date"=>1592352779, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTm9P21Nj9JhLU", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592351628, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592351628, "current_period_end"=>1599004428, "current_period_start"=>1598399628, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1Guob9HiibShxDkjjcP4jNIg", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTm9LhZZrXIU4u", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592351629, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>88, "subscription"=>"sub_HTm9P21Nj9JhLU", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTm9P21Nj9JhLU"}, "latest_invoice"=>"in_1HKBxuHiibShxDkjSQvT07Va", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>88, "schedule"=>nil, "start_date"=>1592351628, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTiAInwER448NQ", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592336800, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592336800, "current_period_end"=>1598989600, "current_period_start"=>1598384800, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GukjzHiibShxDkjhmgK5cHQ", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTiAFJ65OaXbLb", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592336801, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>11, "subscription"=>"sub_HTiAInwER448NQ", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTiAInwER448NQ"}, "latest_invoice"=>"in_1HK86dHiibShxDkjZOb57Syd", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>11, "schedule"=>nil, "start_date"=>1592336800, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HThol5LxxWW2T8", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592335489, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592335489, "current_period_end"=>1598988289, "current_period_start"=>1598383489, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GukOqHiibShxDkjkZit1pEu", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HThosUD0Aw71cE", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592335490, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>77, "subscription"=>"sub_HThol5LxxWW2T8", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HThol5LxxWW2T8"}, "latest_invoice"=>"in_1HK7ldHiibShxDkjyan1vbQg", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>77, "schedule"=>nil, "start_date"=>1592335489, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTgCNofRQ2SxCZ", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592329479, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592329479, "current_period_end"=>1600278279, "current_period_start"=>1592329479, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GuiptHiibShxDkjduc2lzn6", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTgCco1ui7JKVe", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592329479, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>6000, "subscription"=>"sub_HTgCNofRQ2SxCZ", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTgCNofRQ2SxCZ"}, "latest_invoice"=>"in_1GuipvHiibShxDkjRNwJ0mnb", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>6000, "schedule"=>nil, "start_date"=>1592329479, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}], "has_more"=>false, "total_count"=>6, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/subscriptions"}, "tax_exempt"=>"none", "tax_ids"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/tax_ids"}}, "previous_attributes"=>{"next_invoice_sequence"=>45}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"customer.updated", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjP4umavep", "data"=>{"object"=>{"id"=>"cus_HTfrdHaUJIXzTt", "object"=>"customer", "address"=>nil, "balance"=>0, "created"=>1592328244, "currency"=>"usd", "default_source"=>nil, "delinquent"=>false, "description"=>nil, "discount"=>nil, "email"=>"frankyB@gmail.com", "invoice_prefix"=>"86A87608", "invoice_settings"=>{"custom_fields"=>nil, "default_payment_method"=>nil, "footer"=>nil}, "livemode"=>false, "metadata"=>{}, "name"=>nil, "next_invoice_sequence"=>46, "phone"=>nil, "preferred_locales"=>[], "shipping"=>nil, "sources"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/sources"}, "subscriptions"=>{"object"=>"list", "data"=>[{"id"=>"sub_HXpc286cBy6bD7", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1593287060, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1593287060, "current_period_end"=>1599335060, "current_period_start"=>1598730260, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GyjwmHiibShxDkjryLluWnG", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HXpcOIEVnxhBGF", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1593287061, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HXpc286cBy6bD7"}, "latest_invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>23, "schedule"=>nil, "start_date"=>1593287060, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTmSCB4f6ppubB", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592352779, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592352779, "current_period_end"=>1600301579, "current_period_start"=>1592352779, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GuotiHiibShxDkjohKEdTRG", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTmSchi1I6bckD", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592352780, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>2500, "subscription"=>"sub_HTmSCB4f6ppubB", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTmSCB4f6ppubB"}, "latest_invoice"=>"in_1GuotjHiibShxDkjmvUEzmzP", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>2500, "schedule"=>nil, "start_date"=>1592352779, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTm9P21Nj9JhLU", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592351628, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592351628, "current_period_end"=>1599004428, "current_period_start"=>1598399628, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1Guob9HiibShxDkjjcP4jNIg", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTm9LhZZrXIU4u", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592351629, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>88, "subscription"=>"sub_HTm9P21Nj9JhLU", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTm9P21Nj9JhLU"}, "latest_invoice"=>"in_1HKBxuHiibShxDkjSQvT07Va", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>88, "schedule"=>nil, "start_date"=>1592351628, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTiAInwER448NQ", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592336800, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592336800, "current_period_end"=>1598989600, "current_period_start"=>1598384800, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GukjzHiibShxDkjhmgK5cHQ", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTiAFJ65OaXbLb", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592336801, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>11, "subscription"=>"sub_HTiAInwER448NQ", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTiAInwER448NQ"}, "latest_invoice"=>"in_1HK86dHiibShxDkjZOb57Syd", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>11, "schedule"=>nil, "start_date"=>1592336800, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HThol5LxxWW2T8", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592335489, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592335489, "current_period_end"=>1598988289, "current_period_start"=>1598383489, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GukOqHiibShxDkjkZit1pEu", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HThosUD0Aw71cE", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592335490, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>77, "subscription"=>"sub_HThol5LxxWW2T8", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HThol5LxxWW2T8"}, "latest_invoice"=>"in_1HK7ldHiibShxDkjyan1vbQg", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>77, "schedule"=>nil, "start_date"=>1592335489, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}, {"id"=>"sub_HTgCNofRQ2SxCZ", "object"=>"subscription", "application_fee_percent"=>nil, "billing_cycle_anchor"=>1592329479, "billing_thresholds"=>nil, "cancel_at"=>nil, "cancel_at_period_end"=>false, "canceled_at"=>nil, "collection_method"=>"charge_automatically", "created"=>1592329479, "current_period_end"=>1600278279, "current_period_start"=>1592329479, "customer"=>"cus_HTfrdHaUJIXzTt", "days_until_due"=>nil, "default_payment_method"=>"pm_1GuiptHiibShxDkjduc2lzn6", "default_source"=>nil, "default_tax_rates"=>[], "discount"=>nil, "ended_at"=>nil, "items"=>{"object"=>"list", "data"=>[{"id"=>"si_HTgCco1ui7JKVe", "object"=>"subscription_item", "billing_thresholds"=>nil, "created"=>1592329479, "metadata"=>{}, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"month", "interval_count"=>3, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "quantity"=>6000, "subscription"=>"sub_HTgCNofRQ2SxCZ", "tax_rates"=>[]}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/subscription_items?subscription=sub_HTgCNofRQ2SxCZ"}, "latest_invoice"=>"in_1GuipvHiibShxDkjRNwJ0mnb", "livemode"=>false, "metadata"=>{}, "next_pending_invoice_item_invoice"=>nil, "pause_collection"=>nil, "pending_invoice_item_interval"=>nil, "pending_setup_intent"=>nil, "pending_update"=>nil, "plan"=>{"id"=>"plan_HCxxRCehGf5Pog", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474674, "currency"=>"usd", "interval"=>"month", "interval_count"=>3, "livemode"=>false, "metadata"=>{}, "nickname"=>"Quarterly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "quantity"=>6000, "schedule"=>nil, "start_date"=>1592329479, "status"=>"active", "tax_percent"=>nil, "transfer_data"=>nil, "trial_end"=>nil, "trial_start"=>nil}], "has_more"=>false, "total_count"=>6, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/subscriptions"}, "tax_exempt"=>"none", "tax_ids"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/customers/cus_HTfrdHaUJIXzTt/tax_ids"}}, "previous_attributes"=>{"next_invoice_sequence"=>45}}}}
  [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjP4umavep"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:18 -0400
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavHHiibShxDkjcFckttO3", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"pi_1HLavFHiibShxDkjoZHhZW11", "object"=>"payment_intent", "amount"=>2300, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11"}, "client_secret"=>"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2", "confirmation_method"=>"automatic", "created"=>1598733913, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"payment_intent.created", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjcFckttO3", "data"=>{"object"=>{"id"=>"pi_1HLavFHiibShxDkjoZHhZW11", "object"=>"payment_intent", "amount"=>2300, "amount_capturable"=>0, "amount_received"=>0, "application"=>nil, "application_fee_amount"=>nil, "canceled_at"=>nil, "cancellation_reason"=>nil, "capture_method"=>"automatic", "charges"=>{"object"=>"list", "data"=>[], "has_more"=>false, "total_count"=>0, "url"=>"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11"}, "client_secret"=>"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2", "confirmation_method"=>"automatic", "created"=>1598733913, "currency"=>"usd", "customer"=>"cus_HTfrdHaUJIXzTt", "description"=>"Subscription update", "invoice"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "last_payment_error"=>nil, "livemode"=>false, "metadata"=>{}, "next_action"=>nil, "on_behalf_of"=>nil, "payment_method"=>nil, "payment_method_options"=>{"card"=>{"installments"=>nil, "network"=>nil, "request_three_d_secure"=>"automatic"}}, "payment_method_types"=>["card"], "receipt_email"=>nil, "review"=>nil, "setup_future_usage"=>nil, "shipping"=>nil, "source"=>nil, "statement_descriptor"=>nil, "statement_descriptor_suffix"=>nil, "status"=>"requires_payment_method", "transfer_data"=>nil, "transfer_group"=>nil}}}}
  [1m[36mWebhookEvent Create (51.3ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjP4umavep"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjP4umavep\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"cus_HTfrdHaUJIXzTt\",\"object\":\"customer\",\"address\":null,\"balance\":0,\"created\":1592328244,\"currency\":\"usd\",\"default_source\":null,\"delinquent\":false,\"description\":null,\"discount\":null,\"email\":\"frankyB@gmail.com\",\"invoice_prefix\":\"86A87608\",\"invoice_settings\":{\"custom_fields\":null,\"default_payment_method\":null,\"footer\":null},\"livemode\":false,\"metadata\":{},\"name\":null,\"next_invoice_sequence\":46,\"phone\":null,\"preferred_locales\":[],\"shipping\":null,\"sources\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/sources\"},\"subscriptions\":{\"object\":\"list\",\"data\":[{\"id\":\"sub_HXpc286cBy6bD7\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1593287060,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1593287060,\"current_period_end\":1599335060,\"current_period_start\":1598730260,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HXpcOIEVnxhBGF\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1593287061,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HXpc286cBy6bD7\"},\"latest_invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":23,\"schedule\":null,\"start_date\":1593287060,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTmSCB4f6ppubB\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592352779,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592352779,\"current_period_end\":1600301579,\"current_period_start\":1592352779,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GuotiHiibShxDkjohKEdTRG\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTmSchi1I6bckD\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592352780,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":2500,\"subscription\":\"sub_HTmSCB4f6ppubB\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTmSCB4f6ppubB\"},\"latest_invoice\":\"in_1GuotjHiibShxDkjmvUEzmzP\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":2500,\"schedule\":null,\"start_date\":1592352779,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTm9P21Nj9JhLU\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592351628,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592351628,\"current_period_end\":1599004428,\"current_period_start\":1598399628,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1Guob9HiibShxDkjjcP4jNIg\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTm9LhZZrXIU4u\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592351629,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":88,\"subscription\":\"sub_HTm9P21Nj9JhLU\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTm9P21Nj9JhLU\"},\"latest_invoice\":\"in_1HKBxuHiibShxDkjSQvT07Va\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":88,\"schedule\":null,\"start_date\":1592351628,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTiAInwER448NQ\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592336800,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592336800,\"current_period_end\":1598989600,\"current_period_start\":1598384800,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GukjzHiibShxDkjhmgK5cHQ\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTiAFJ65OaXbLb\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592336801,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":11,\"subscription\":\"sub_HTiAInwER448NQ\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTiAInwER448NQ\"},\"latest_invoice\":\"in_1HK86dHiibShxDkjZOb57Syd\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":11,\"schedule\":null,\"start_date\":1592336800,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HThol5LxxWW2T8\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592335489,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592335489,\"current_period_end\":1598988289,\"current_period_start\":1598383489,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GukOqHiibShxDkjkZit1pEu\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HThosUD0Aw71cE\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592335490,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":77,\"subscription\":\"sub_HThol5LxxWW2T8\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HThol5LxxWW2T8\"},\"latest_invoice\":\"in_1HK7ldHiibShxDkjyan1vbQg\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":77,\"schedule\":null,\"start_date\":1592335489,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTgCNofRQ2SxCZ\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592329479,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592329479,\"current_period_end\":1600278279,\"current_period_start\":1592329479,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GuiptHiibShxDkjduc2lzn6\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTgCco1ui7JKVe\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592329479,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":6000,\"subscription\":\"sub_HTgCNofRQ2SxCZ\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTgCNofRQ2SxCZ\"},\"latest_invoice\":\"in_1GuipvHiibShxDkjRNwJ0mnb\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":6000,\"schedule\":null,\"start_date\":1592329479,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null}],\"has_more\":false,\"total_count\":6,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/subscriptions\"},\"tax_exempt\":\"none\",\"tax_ids\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/tax_ids\"}},\"previous_attributes\":{\"next_invoice_sequence\":45}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"customer.updated\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjP4umavep\",\"data\":{\"object\":{\"id\":\"cus_HTfrdHaUJIXzTt\",\"object\":\"customer\",\"address\":null,\"balance\":0,\"created\":1592328244,\"currency\":\"usd\",\"default_source\":null,\"delinquent\":false,\"description\":null,\"discount\":null,\"email\":\"frankyB@gmail.com\",\"invoice_prefix\":\"86A87608\",\"invoice_settings\":{\"custom_fields\":null,\"default_payment_method\":null,\"footer\":null},\"livemode\":false,\"metadata\":{},\"name\":null,\"next_invoice_sequence\":46,\"phone\":null,\"preferred_locales\":[],\"shipping\":null,\"sources\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/sources\"},\"subscriptions\":{\"object\":\"list\",\"data\":[{\"id\":\"sub_HXpc286cBy6bD7\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1593287060,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1593287060,\"current_period_end\":1599335060,\"current_period_start\":1598730260,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GyjwmHiibShxDkjryLluWnG\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HXpcOIEVnxhBGF\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1593287061,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HXpc286cBy6bD7\"},\"latest_invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":23,\"schedule\":null,\"start_date\":1593287060,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTmSCB4f6ppubB\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592352779,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592352779,\"current_period_end\":1600301579,\"current_period_start\":1592352779,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GuotiHiibShxDkjohKEdTRG\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTmSchi1I6bckD\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592352780,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":2500,\"subscription\":\"sub_HTmSCB4f6ppubB\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTmSCB4f6ppubB\"},\"latest_invoice\":\"in_1GuotjHiibShxDkjmvUEzmzP\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":2500,\"schedule\":null,\"start_date\":1592352779,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTm9P21Nj9JhLU\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592351628,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592351628,\"current_period_end\":1599004428,\"current_period_start\":1598399628,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1Guob9HiibShxDkjjcP4jNIg\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTm9LhZZrXIU4u\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592351629,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":88,\"subscription\":\"sub_HTm9P21Nj9JhLU\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTm9P21Nj9JhLU\"},\"latest_invoice\":\"in_1HKBxuHiibShxDkjSQvT07Va\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":88,\"schedule\":null,\"start_date\":1592351628,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTiAInwER448NQ\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592336800,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592336800,\"current_period_end\":1598989600,\"current_period_start\":1598384800,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GukjzHiibShxDkjhmgK5cHQ\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTiAFJ65OaXbLb\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592336801,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":11,\"subscription\":\"sub_HTiAInwER448NQ\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTiAInwER448NQ\"},\"latest_invoice\":\"in_1HK86dHiibShxDkjZOb57Syd\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":11,\"schedule\":null,\"start_date\":1592336800,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HThol5LxxWW2T8\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592335489,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592335489,\"current_period_end\":1598988289,\"current_period_start\":1598383489,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GukOqHiibShxDkjkZit1pEu\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HThosUD0Aw71cE\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592335490,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":77,\"subscription\":\"sub_HThol5LxxWW2T8\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HThol5LxxWW2T8\"},\"latest_invoice\":\"in_1HK7ldHiibShxDkjyan1vbQg\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":77,\"schedule\":null,\"start_date\":1592335489,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null},{\"id\":\"sub_HTgCNofRQ2SxCZ\",\"object\":\"subscription\",\"application_fee_percent\":null,\"billing_cycle_anchor\":1592329479,\"billing_thresholds\":null,\"cancel_at\":null,\"cancel_at_period_end\":false,\"canceled_at\":null,\"collection_method\":\"charge_automatically\",\"created\":1592329479,\"current_period_end\":1600278279,\"current_period_start\":1592329479,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"days_until_due\":null,\"default_payment_method\":\"pm_1GuiptHiibShxDkjduc2lzn6\",\"default_source\":null,\"default_tax_rates\":[],\"discount\":null,\"ended_at\":null,\"items\":{\"object\":\"list\",\"data\":[{\"id\":\"si_HTgCco1ui7JKVe\",\"object\":\"subscription_item\",\"billing_thresholds\":null,\"created\":1592329479,\"metadata\":{},\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"month\",\"interval_count\":3,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"quantity\":6000,\"subscription\":\"sub_HTgCNofRQ2SxCZ\",\"tax_rates\":[]}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/subscription_items?subscription=sub_HTgCNofRQ2SxCZ\"},\"latest_invoice\":\"in_1GuipvHiibShxDkjRNwJ0mnb\",\"livemode\":false,\"metadata\":{},\"next_pending_invoice_item_invoice\":null,\"pause_collection\":null,\"pending_invoice_item_interval\":null,\"pending_setup_intent\":null,\"pending_update\":null,\"plan\":{\"id\":\"plan_HCxxRCehGf5Pog\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474674,\"currency\":\"usd\",\"interval\":\"month\",\"interval_count\":3,\"livemode\":false,\"metadata\":{},\"nickname\":\"Quarterly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"quantity\":6000,\"schedule\":null,\"start_date\":1592329479,\"status\":\"active\",\"tax_percent\":null,\"transfer_data\":null,\"trial_end\":null,\"trial_start\":null}],\"has_more\":false,\"total_count\":6,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/subscriptions\"},\"tax_exempt\":\"none\",\"tax_ids\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/customers/cus_HTfrdHaUJIXzTt/tax_ids\"}},\"previous_attributes\":{\"next_invoice_sequence\":45}}}}"], ["created_at", "2020-08-29 20:45:18.004673"], ["updated_at", "2020-08-29 20:45:18.004673"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:18 -0400
  [1m[36mWebhookEvent Load (3.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjcFckttO3"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:18 -0400
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: e6925f62-a99d-4803-b56a-6f8a3007575e) to Async(default) with arguments: 297
Completed 200 OK in 176ms (Views: 6.4ms | ActiveRecord: 64.7ms | Allocations: 202862)


  [1m[36mWebhookEvent Create (5.6ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjcFckttO3"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjcFckttO3\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"object\":\"payment_intent\",\"amount\":2300,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11\"},\"client_secret\":\"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2\",\"confirmation_method\":\"automatic\",\"created\":1598733913,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"payment_intent.created\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjcFckttO3\",\"data\":{\"object\":{\"id\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"object\":\"payment_intent\",\"amount\":2300,\"amount_capturable\":0,\"amount_received\":0,\"application\":null,\"application_fee_amount\":null,\"canceled_at\":null,\"cancellation_reason\":null,\"capture_method\":\"automatic\",\"charges\":{\"object\":\"list\",\"data\":[],\"has_more\":false,\"total_count\":0,\"url\":\"/v1/charges?payment_intent=pi_1HLavFHiibShxDkjoZHhZW11\"},\"client_secret\":\"pi_1HLavFHiibShxDkjoZHhZW11_secret_3d7cQEzVBrjOrUSQSFBxkfgt2\",\"confirmation_method\":\"automatic\",\"created\":1598733913,\"currency\":\"usd\",\"customer\":\"cus_HTfrdHaUJIXzTt\",\"description\":\"Subscription update\",\"invoice\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"last_payment_error\":null,\"livemode\":false,\"metadata\":{},\"next_action\":null,\"on_behalf_of\":null,\"payment_method\":null,\"payment_method_options\":{\"card\":{\"installments\":null,\"network\":null,\"request_three_d_secure\":\"automatic\"}},\"payment_method_types\":[\"card\"],\"receipt_email\":null,\"review\":null,\"setup_future_usage\":null,\"shipping\":null,\"source\":null,\"statement_descriptor\":null,\"statement_descriptor_suffix\":null,\"status\":\"requires_payment_method\",\"transfer_data\":null,\"transfer_group\":null}}}}"], ["created_at", "2020-08-29 20:45:18.097991"], ["updated_at", "2020-08-29 20:45:18.097991"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:18 -0400
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e] Performing ProcessEventsJob (Job ID: e6925f62-a99d-4803-b56a-6f8a3007575e) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 297
Processing by WebhookEventsController#create as XML
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavHHiibShxDkjdIaq0rNG", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"invoice.paid", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjdIaq0rNG", "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}}}
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: dba180ad-4c60-4d8a-bb77-097b018e42a0) to Async(default) with arguments: 298
Completed 200 OK in 133ms (Views: 0.9ms | ActiveRecord: 21.1ms | Allocations: 197927)


  Parameters: {"id"=>"evt_1HLavHHiibShxDkjvhXJdz7H", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"invoice.finalized", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjvhXJdz7H", "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}}}
  [1m[36mWebhookEvent Load (2.5ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjvhXJdz7H"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0] Performing ProcessEventsJob (Job ID: dba180ad-4c60-4d8a-bb77-097b018e42a0) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 298
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Load (6.2ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjdIaq0rNG"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavHHiibShxDkjoFpxLwIg", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"invoice.payment_succeeded", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjoFpxLwIg", "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}}}}
  [1m[36mWebhookEvent Create (5.1ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjvhXJdz7H"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjvhXJdz7H\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"invoice.finalized\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjvhXJdz7H\",\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}}}}"], ["created_at", "2020-08-29 20:45:18.214569"], ["updated_at", "2020-08-29 20:45:18.214569"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[36mWebhookEvent Load (2.2ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjoFpxLwIg"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
  [1m[36mWebhookEvent Create (5.9ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjdIaq0rNG"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjdIaq0rNG\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"invoice.paid\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjdIaq0rNG\",\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}}}}"], ["created_at", "2020-08-29 20:45:18.225409"], ["updated_at", "2020-08-29 20:45:18.225409"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (7.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: f741de3b-9333-4145-9d0a-4682377a0667) to Async(default) with arguments: 299
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: ec019394-1ca3-45ee-a3e7-9dfb5ea325e3) to Async(default) with arguments: 300
Completed 200 OK in 92ms (Views: 1.2ms | ActiveRecord: 26.3ms | Allocations: 126726)


  [1m[36mWebhookEvent Create (10.5ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjoFpxLwIg"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjoFpxLwIg\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"invoice.payment_succeeded\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjoFpxLwIg\",\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290}}}}"], ["created_at", "2020-08-29 20:45:18.248068"], ["updated_at", "2020-08-29 20:45:18.248068"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   [1m[36mWebhookEvent Load (15.6ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   â†³ app/jobs/process_events_job.rb:5:in `perform'
Completed 200 OK in 67ms (Views: 1.3ms | ActiveRecord: 27.4ms | Allocations: 89976)


[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   [1m[36mWebhookEvent Load (6.6ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   â†³ app/jobs/process_events_job.rb:5:in `perform'
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 4f4d3671-aeec-40c1-b462-16f3f9a2a51c) to Async(default) with arguments: 301
Completed 200 OK in 90ms (Views: 1.2ms | ActiveRecord: 36.6ms | Allocations: 126759)


[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   [1m[35m (14.0ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3] Performing ProcessEventsJob (Job ID: ec019394-1ca3-45ee-a3e7-9dfb5ea325e3) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 300
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   [1m[36mWebhookEvent Update (1.9ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.310765"], ["id", 298]]
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   [1m[35m (12.0ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667] Performing ProcessEventsJob (Job ID: f741de3b-9333-4145-9d0a-4682377a0667) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 299
Started POST "/webhook_events/stripe" for 127.0.0.1 at 2020-08-29 16:45:18 -0400
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   [1m[36mWebhookEvent Load (2.0ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   [1m[36mWebhookEvent Update (1.2ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.297269"], ["id", 297]]
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   [1m[35m (9.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [dba180ad-4c60-4d8a-bb77-097b018e42a0] Error performing ProcessEventsJob (Job ID: dba180ad-4c60-4d8a-bb77-097b018e42a0) from Async(default) in 131.37ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   [1m[36mWebhookEvent Update (1.4ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.336090"], ["id", 300]]
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e]   â†³ app/jobs/process_events_job.rb:7:in `perform'
Processing by WebhookEventsController#create as XML
  Parameters: {"id"=>"evt_1HLavHHiibShxDkjczgmKV9H", "object"=>"event", "api_version"=>"2020-03-02", "created"=>1598733915, "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}, "previous_attributes"=>{"amount_paid"=>0, "amount_remaining"=>2300, "attempt_count"=>0, "attempted"=>false, "auto_advance"=>true, "charge"=>nil, "ending_balance"=>nil, "hosted_invoice_url"=>nil, "invoice_pdf"=>nil, "next_payment_attempt"=>1598733887, "number"=>nil, "paid"=>false, "payment_intent"=>nil, "status"=>"draft", "status_transitions"=>{"finalized_at"=>nil, "paid_at"=>nil}}}, "livemode"=>false, "pending_webhooks"=>2, "request"=>{"id"=>nil, "idempotency_key"=>nil}, "type"=>"invoice.updated", "source"=>"stripe", "webhook_event"=>{"id"=>"evt_1HLavHHiibShxDkjczgmKV9H", "data"=>{"object"=>{"id"=>"in_1HLZylHiibShxDkjm6Y3Wc3G", "object"=>"invoice", "account_country"=>"US", "account_name"=>"St. Paul's Episcopal Church", "amount_due"=>2300, "amount_paid"=>2300, "amount_remaining"=>0, "application_fee_amount"=>nil, "attempt_count"=>1, "attempted"=>true, "auto_advance"=>false, "billing_reason"=>"subscription_cycle", "charge"=>"ch_1HLavGHiibShxDkj0Bcot6OH", "collection_method"=>"charge_automatically", "created"=>1598730287, "currency"=>"usd", "custom_fields"=>nil, "customer"=>"cus_HTfrdHaUJIXzTt", "customer_address"=>nil, "customer_email"=>"frankyB@gmail.com", "customer_name"=>nil, "customer_phone"=>nil, "customer_shipping"=>nil, "customer_tax_exempt"=>"none", "customer_tax_ids"=>[], "default_payment_method"=>nil, "default_source"=>nil, "default_tax_rates"=>[], "description"=>nil, "discount"=>nil, "discounts"=>[], "due_date"=>nil, "ending_balance"=>0, "footer"=>nil, "hosted_invoice_url"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40", "invoice_pdf"=>"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf", "lines"=>{"object"=>"list", "data"=>[{"id"=>"il_1HLZylHiibShxDkj1TLE6YvB", "object"=>"line_item", "amount"=>2300, "currency"=>"usd", "description"=>"23 Ã— Stewardship (at $1.00 / week)", "discount_amounts"=>[], "discountable"=>true, "discounts"=>[], "livemode"=>false, "metadata"=>{}, "period"=>{"end"=>1599335060, "start"=>1598730260}, "plan"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"plan", "active"=>true, "aggregate_usage"=>nil, "amount"=>100, "amount_decimal"=>"100", "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "interval"=>"week", "interval_count"=>1, "livemode"=>false, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "tiers"=>nil, "tiers_mode"=>nil, "transform_usage"=>nil, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "price"=>{"id"=>"plan_HCxvLz92uVgU3a", "object"=>"price", "active"=>true, "billing_scheme"=>"per_unit", "created"=>1588474549, "currency"=>"usd", "livemode"=>false, "lookup_key"=>nil, "metadata"=>{}, "nickname"=>"Weekly", "product"=>"prod_ETteQ8s9Ho9sNW", "recurring"=>{"aggregate_usage"=>nil, "interval"=>"week", "interval_count"=>1, "trial_period_days"=>nil, "usage_type"=>"licensed"}, "tiers_mode"=>nil, "transform_quantity"=>nil, "type"=>"recurring", "unit_amount"=>100, "unit_amount_decimal"=>"100"}, "proration"=>false, "quantity"=>23, "subscription"=>"sub_HXpc286cBy6bD7", "subscription_item"=>"si_HXpcOIEVnxhBGF", "tax_amounts"=>[], "tax_rates"=>[], "type"=>"subscription"}], "has_more"=>false, "total_count"=>1, "url"=>"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines"}, "livemode"=>false, "metadata"=>{}, "next_payment_attempt"=>nil, "number"=>"86A87608-0045", "paid"=>true, "payment_intent"=>"pi_1HLavFHiibShxDkjoZHhZW11", "period_end"=>1598730260, "period_start"=>1598125460, "post_payment_credit_notes_amount"=>0, "pre_payment_credit_notes_amount"=>0, "receipt_number"=>nil, "starting_balance"=>0, "statement_descriptor"=>nil, "status"=>"paid", "status_transitions"=>{"finalized_at"=>1598733913, "marked_uncollectible_at"=>nil, "paid_at"=>1598733913, "voided_at"=>nil}, "subscription"=>"sub_HXpc286cBy6bD7", "subtotal"=>2300, "tax"=>nil, "tax_percent"=>nil, "total"=>2300, "total_discount_amounts"=>[], "total_tax_amounts"=>[], "transfer_data"=>nil, "webhooks_delivered_at"=>1598730290}, "previous_attributes"=>{"amount_paid"=>0, "amount_remaining"=>2300, "attempt_count"=>0, "attempted"=>false, "auto_advance"=>true, "charge"=>nil, "ending_balance"=>nil, "hosted_invoice_url"=>nil, "invoice_pdf"=>nil, "next_payment_attempt"=>1598733887, "number"=>nil, "paid"=>false, "payment_intent"=>nil, "status"=>"draft", "status_transitions"=>{"finalized_at"=>nil, "paid_at"=>nil}}}}}
[ActiveJob] [ProcessEventsJob] [e6925f62-a99d-4803-b56a-6f8a3007575e] Error performing ProcessEventsJob (Job ID: e6925f62-a99d-4803-b56a-6f8a3007575e) from Async(default) in 179.34ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3]   â†³ app/jobs/process_events_job.rb:7:in `perform'
  [1m[36mWebhookEvent Load (2.9ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."source" = $1 AND "webhook_events"."external_id" = $2 LIMIT $3[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjczgmKV9H"], ["LIMIT", 1]]
  â†³ app/controllers/webhook_events_controller.rb:11:in `create'
[ActiveJob] [ProcessEventsJob] [ec019394-1ca3-45ee-a3e7-9dfb5ea325e3] Error performing ProcessEventsJob (Job ID: ec019394-1ca3-45ee-a3e7-9dfb5ea325e3) from Async(default) in 49.19ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c] Performing ProcessEventsJob (Job ID: 4f4d3671-aeec-40c1-b462-16f3f9a2a51c) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 301
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   [1m[36mWebhookEvent Update (2.2ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.356169"], ["id", 299]]
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   â†³ app/jobs/process_events_job.rb:7:in `perform'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   [1m[36mWebhookEvent Load (2.0ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   â†³ app/jobs/process_events_job.rb:5:in `perform'
  [1m[36mWebhookEvent Create (2.6ms)[0m  [1m[32mINSERT INTO "webhook_events" ("source", "external_id", "data", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["source", "stripe"], ["external_id", "evt_1HLavHHiibShxDkjczgmKV9H"], ["data", "{\"id\":\"evt_1HLavHHiibShxDkjczgmKV9H\",\"object\":\"event\",\"api_version\":\"2020-03-02\",\"created\":1598733915,\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290},\"previous_attributes\":{\"amount_paid\":0,\"amount_remaining\":2300,\"attempt_count\":0,\"attempted\":false,\"auto_advance\":true,\"charge\":null,\"ending_balance\":null,\"hosted_invoice_url\":null,\"invoice_pdf\":null,\"next_payment_attempt\":1598733887,\"number\":null,\"paid\":false,\"payment_intent\":null,\"status\":\"draft\",\"status_transitions\":{\"finalized_at\":null,\"paid_at\":null}}},\"livemode\":false,\"pending_webhooks\":2,\"request\":{\"id\":null,\"idempotency_key\":null},\"type\":\"invoice.updated\",\"webhook_event\":{\"id\":\"evt_1HLavHHiibShxDkjczgmKV9H\",\"data\":{\"object\":{\"id\":\"in_1HLZylHiibShxDkjm6Y3Wc3G\",\"object\":\"invoice\",\"account_country\":\"US\",\"account_name\":\"St. Paul's Episcopal Church\",\"amount_due\":2300,\"amount_paid\":2300,\"amount_remaining\":0,\"application_fee_amount\":null,\"attempt_count\":1,\"attempted\":true,\"auto_advance\":false,\"billing_reason\":\"subscription_cycle\",\"charge\":\"ch_1HLavGHiibShxDkj0Bcot6OH\",\"collection_method\":\"charge_automatically\",\"created\":1598730287,\"currency\":\"usd\",\"custom_fields\":null,\"customer\":\"cus_HTfrdHaUJIXzTt\",\"customer_address\":null,\"customer_email\":\"frankyB@gmail.com\",\"customer_name\":null,\"customer_phone\":null,\"customer_shipping\":null,\"customer_tax_exempt\":\"none\",\"customer_tax_ids\":[],\"default_payment_method\":null,\"default_source\":null,\"default_tax_rates\":[],\"description\":null,\"discount\":null,\"discounts\":[],\"due_date\":null,\"ending_balance\":0,\"footer\":null,\"hosted_invoice_url\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40\",\"invoice_pdf\":\"https://pay.stripe.com/invoice/acct_15tUEZHiibShxDkj/invst_HvQqovNVhuuym4eDjTdxQfR7L4aoB40/pdf\",\"lines\":{\"object\":\"list\",\"data\":[{\"id\":\"il_1HLZylHiibShxDkj1TLE6YvB\",\"object\":\"line_item\",\"amount\":2300,\"currency\":\"usd\",\"description\":\"23 Ã— Stewardship (at $1.00 / week)\",\"discount_amounts\":[],\"discountable\":true,\"discounts\":[],\"livemode\":false,\"metadata\":{},\"period\":{\"end\":1599335060,\"start\":1598730260},\"plan\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"plan\",\"active\":true,\"aggregate_usage\":null,\"amount\":100,\"amount_decimal\":\"100\",\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"interval\":\"week\",\"interval_count\":1,\"livemode\":false,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"tiers\":null,\"tiers_mode\":null,\"transform_usage\":null,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"price\":{\"id\":\"plan_HCxvLz92uVgU3a\",\"object\":\"price\",\"active\":true,\"billing_scheme\":\"per_unit\",\"created\":1588474549,\"currency\":\"usd\",\"livemode\":false,\"lookup_key\":null,\"metadata\":{},\"nickname\":\"Weekly\",\"product\":\"prod_ETteQ8s9Ho9sNW\",\"recurring\":{\"aggregate_usage\":null,\"interval\":\"week\",\"interval_count\":1,\"trial_period_days\":null,\"usage_type\":\"licensed\"},\"tiers_mode\":null,\"transform_quantity\":null,\"type\":\"recurring\",\"unit_amount\":100,\"unit_amount_decimal\":\"100\"},\"proration\":false,\"quantity\":23,\"subscription\":\"sub_HXpc286cBy6bD7\",\"subscription_item\":\"si_HXpcOIEVnxhBGF\",\"tax_amounts\":[],\"tax_rates\":[],\"type\":\"subscription\"}],\"has_more\":false,\"total_count\":1,\"url\":\"/v1/invoices/in_1HLZylHiibShxDkjm6Y3Wc3G/lines\"},\"livemode\":false,\"metadata\":{},\"next_payment_attempt\":null,\"number\":\"86A87608-0045\",\"paid\":true,\"payment_intent\":\"pi_1HLavFHiibShxDkjoZHhZW11\",\"period_end\":1598730260,\"period_start\":1598125460,\"post_payment_credit_notes_amount\":0,\"pre_payment_credit_notes_amount\":0,\"receipt_number\":null,\"starting_balance\":0,\"statement_descriptor\":null,\"status\":\"paid\",\"status_transitions\":{\"finalized_at\":1598733913,\"marked_uncollectible_at\":null,\"paid_at\":1598733913,\"voided_at\":null},\"subscription\":\"sub_HXpc286cBy6bD7\",\"subtotal\":2300,\"tax\":null,\"tax_percent\":null,\"total\":2300,\"total_discount_amounts\":[],\"total_tax_amounts\":[],\"transfer_data\":null,\"webhooks_delivered_at\":1598730290},\"previous_attributes\":{\"amount_paid\":0,\"amount_remaining\":2300,\"attempt_count\":0,\"attempted\":false,\"auto_advance\":true,\"charge\":null,\"ending_balance\":null,\"hosted_invoice_url\":null,\"invoice_pdf\":null,\"next_payment_attempt\":1598733887,\"number\":null,\"paid\":false,\"payment_intent\":null,\"status\":\"draft\",\"status_transitions\":{\"finalized_at\":null,\"paid_at\":null}}}}}"], ["created_at", "2020-08-29 20:45:18.374083"], ["updated_at", "2020-08-29 20:45:18.374083"]]
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [f741de3b-9333-4145-9d0a-4682377a0667] Error performing ProcessEventsJob (Job ID: f741de3b-9333-4145-9d0a-4682377a0667) from Async(default) in 65.07ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   [1m[36mWebhookEvent Update (0.7ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.385216"], ["id", 301]]
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   â†³ app/jobs/process_events_job.rb:7:in `perform'
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/webhook_events_controller.rb:16:in `create'
[ActiveJob] Enqueued ProcessEventsJob (Job ID: 21ea8b3d-2492-445f-8322-0387dfb745f8) to Async(default) with arguments: 302
Completed 200 OK in 54ms (Views: 1.2ms | ActiveRecord: 17.8ms | Allocations: 61361)


[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8] Performing ProcessEventsJob (Job ID: 21ea8b3d-2492-445f-8322-0387dfb745f8) from Async(default) enqueued at 2020-08-29T20:45:18Z with arguments: 302
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [4f4d3671-aeec-40c1-b462-16f3f9a2a51c] Error performing ProcessEventsJob (Job ID: 4f4d3671-aeec-40c1-b462-16f3f9a2a51c) from Async(default) in 50.82ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   [1m[36mWebhookEvent Load (2.2ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" WHERE "webhook_events"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   â†³ app/jobs/process_events_job.rb:5:in `perform'
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   [1m[36mWebhookEvent Update (0.3ms)[0m  [1m[33mUPDATE "webhook_events" SET "state" = $1, "updated_at" = $2 WHERE "webhook_events"."id" = $3[0m  [["state", 1], ["updated_at", "2020-08-29 20:45:18.430982"], ["id", 302]]
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8]   â†³ app/jobs/process_events_job.rb:7:in `perform'
[ActiveJob] [ProcessEventsJob] [21ea8b3d-2492-445f-8322-0387dfb745f8] Error performing ProcessEventsJob (Job ID: 21ea8b3d-2492-445f-8322-0387dfb745f8) from Async(default) in 15.57ms: SyntaxError (/home/tom/paul/app/services/events/stripe_handler.rb:22: syntax error, unexpected local variable or method, expecting ')'
          user_id: user.id
          ^~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:23: syntax error, unexpected ')', expecting `end'
        )
        ^
/home/tom/paul/app/services/events/stripe_handler.rb:30: syntax error, unexpected constant, expecting ')'
          StripeReport.create(
          ^~~~~~~~~~~~
/home/tom/paul/app/services/events/stripe_handler.rb:35: syntax error, unexpected ')', expecting `end'
        )
        ^
):
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/.rvm/gems/ruby-2.7.1/gems/zeitwerk-2.4.0/lib/zeitwerk/kernel.rb:27:in `require'
/home/tom/paul/app/jobs/process_events_job.rb:11:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/i18n-1.8.5/lib/i18n.rb:313:in `with_locale'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/tom/.rvm/gems/ruby-2.7.1/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:363:in `run_task'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `block (3 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `loop'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:335:in `block (2 levels) in create_worker'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `catch'
/home/tom/.rvm/gems/ruby-2.7.1/gems/concurrent-ruby-1.1.7/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block in create_worker'
  [1m[36mWebhookEvent Load (0.4ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" ORDER BY "webhook_events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 16], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mPledge Load (0.9ms)[0m  [1m[34mSELECT "pledges".* FROM "pledges" WHERE "pledges"."user_id" = $1 LIMIT $2[0m  [["user_id", 16], ["LIMIT", 1]]
  [1m[36mDonation Load (34.2ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."user_id" = $1[0m  [["user_id", 16]]
  [1m[36mWebhookEvent Load (1.3ms)[0m  [1m[34mSELECT "webhook_events".* FROM "webhook_events" ORDER BY "webhook_events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."stripe_id" = $1 LIMIT $2[0m  [["stripe_id", "cus_9dOXlXDXKsJOD2"], ["LIMIT", 1]]
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
Started GET "/" for 127.0.0.1 at 2020-09-04 17:49:39 -0400
  [1m[35m (20.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mLink Load (37.5ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (0.9ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (0.8ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (0.7ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.9ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (0.9ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (22.6ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 123.6ms | Allocations: 8224)
  Rendered layouts/_header.html.erb (Duration: 12.4ms | Allocations: 1525)
  Rendered layouts/_navbar.html.erb (Duration: 19.6ms | Allocations: 1444)
  Rendered layouts/_footer.html.erb (Duration: 3.9ms | Allocations: 524)
Completed 200 OK in 1253ms (Views: 628.8ms | ActiveRecord: 373.8ms | Allocations: 52452)


Started GET "/webhook_events" for 127.0.0.1 at 2020-09-04 17:50:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/webhook_events"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.4) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.4) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `call'
rack-contrib (2.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
meta_request (0.7.2) lib/meta_request/middlewares/headers.rb:16:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (c269f5e01fdf) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (5.2.1) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/webhook_events/stripe" for 127.0.0.1 at 2020-09-04 17:50:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/webhook_events/stripe"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.4) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.4) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.4) lib/web_console/middleware.rb:17:in `call'
rack-contrib (2.2.0) lib/rack/contrib/response_headers.rb:17:in `call'
meta_request (0.7.2) lib/meta_request/middlewares/headers.rb:16:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (c269f5e01fdf) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (5.2.1) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-09-04 17:52:19 -0400
Processing by HomeController#index as HTML
  [1m[36mLink Load (0.9ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "worship"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:6:in `index'
  [1m[36mLink Load (1.8ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "bulletin"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:7:in `index'
  [1m[36mLink Load (4.1ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "wine_time"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:8:in `index'
  [1m[36mLink Load (2.9ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "coffee"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:9:in `index'
  [1m[36mLink Load (0.8ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "day_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:10:in `index'
  [1m[36mLink Load (1.1ms)[0m  [1m[34mSELECT "links".* FROM "links" WHERE "links"."event" = $1 LIMIT $2[0m  [["event", "evening_bible"], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:11:in `index'
  [1m[36mPathway Load (1.1ms)[0m  [1m[34mSELECT "pathways".* FROM "pathways" ORDER BY created_at DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:12:in `index'
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 3121)
  Rendered layouts/_header.html.erb (Duration: 4.5ms | Allocations: 1264)
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 615)
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 350)
Completed 200 OK in 120ms (Views: 45.1ms | ActiveRecord: 12.6ms | Allocations: 23613)


DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/tom/.rvm/gems/ruby-2.7.1/bin/rake:23)
